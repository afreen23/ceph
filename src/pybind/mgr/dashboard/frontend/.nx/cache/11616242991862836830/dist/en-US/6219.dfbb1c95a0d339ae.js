(self.webpackChunkceph_dashboard=self.webpackChunkceph_dashboard||[]).push([[6219,3308,927],{6219:(Yt,rt,q)=>{q.r(rt),q.d(rt,{PopoverContainer:()=>ze,PopoverContent:()=>Ye,PopoverModule:()=>Ge});var $=q(73308),w=q(87536);const H=Math.min,F=Math.max,Y=Math.round,W=Math.floor,T=t=>({x:t,y:t}),X={left:"right",right:"left",bottom:"top",top:"bottom"},ht={start:"end",end:"start"};function ft(t,e){return"function"==typeof t?t(e):t}function J(t){return t.split("-")[0]}function ot(t){return t.split("-")[1]}function vt(t){return"y"===t?"height":"width"}const Ut=new Set(["top","bottom"]);function Z(t){return Ut.has(J(t))?"y":"x"}function yt(t){return function Xt(t){return"x"===t?"y":"x"}(Z(t))}function xt(t){return t.replace(/start|end/g,e=>ht[e])}const Rt=["left","right"],Ot=["right","left"],Zt=["top","bottom"],Kt=["bottom","top"];function ut(t){return t.replace(/left|right|bottom|top/g,e=>X[e])}function St(t){return"number"!=typeof t?function ee(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function dt(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function Pt(t,e,n){let{reference:o,floating:i}=t;const s=Z(e),r=yt(e),l=vt(r),a=J(e),f="y"===s,u=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,p=o[l]/2-i[l]/2;let d;switch(a){case"top":d={x:u,y:o.y-i.height};break;case"bottom":d={x:u,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:c};break;case"left":d={x:o.x-i.width,y:c};break;default:d={x:o.x,y:o.y}}switch(ot(e)){case"start":d[r]-=p*(n&&f?-1:1);break;case"end":d[r]+=p*(n&&f?-1:1)}return d}const ne=function(){var t=(0,$.A)(function*(e,n,o){const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:l}=o,a=r.filter(Boolean),f=yield null==l.isRTL?void 0:l.isRTL(n);let u=yield l.getElementRects({reference:e,floating:n,strategy:s}),{x:c,y:p}=Pt(u,i,f),d=i,m={},g=0;for(let h=0;h<a.length;h++){const{name:v,fn:y}=a[h],{x,y:_,data:C,reset:A}=yield y({x:c,y:p,initialPlacement:i,placement:d,strategy:s,middlewareData:m,rects:u,platform:l,elements:{reference:e,floating:n}});c=x??c,p=_??p,m={...m,[v]:{...m[v],...C}},A&&g<=50&&(g++,"object"==typeof A&&(A.placement&&(d=A.placement),A.rects&&(u=!0===A.rects?yield l.getElementRects({reference:e,floating:n,strategy:s}):A.rects),({x:c,y:p}=Pt(u,d,f))),h=-1)}return{x:c,y:p,placement:d,strategy:s,middlewareData:m}});return function(n,o,i){return t.apply(this,arguments)}}();function tt(t,e){return wt.apply(this,arguments)}function wt(){return(wt=(0,$.A)(function*(t,e){var n;void 0===e&&(e={});const{x:o,y:i,platform:s,rects:r,elements:l,strategy:a}=t,{boundary:f="clippingAncestors",rootBoundary:u="viewport",elementContext:c="floating",altBoundary:p=!1,padding:d=0}=ft(e,t),m=St(d),h=l[p?"floating"===c?"reference":"floating":c],v=dt(yield s.getClippingRect({element:null==(n=yield null==s.isElement?void 0:s.isElement(h))||n?h:h.contextElement||(yield null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:f,rootBoundary:u,strategy:a})),y="floating"===c?{x:o,y:i,width:r.floating.width,height:r.floating.height}:r.reference,x=yield null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating),_=(yield null==s.isElement?void 0:s.isElement(x))&&(yield null==s.getScale?void 0:s.getScale(x))||{x:1,y:1},C=dt(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:a}):y);return{top:(v.top-C.top+m.top)/_.y,bottom:(C.bottom-v.bottom+m.bottom)/_.y,left:(v.left-C.left+m.left)/_.x,right:(C.right-v.right+m.right)/_.x}})).apply(this,arguments)}const Lt=new Set(["left","top"]);function bt(){return(bt=(0,$.A)(function*(t,e){const{placement:n,platform:o,elements:i}=t,s=yield null==o.isRTL?void 0:o.isRTL(i.floating),r=J(n),l=ot(n),a="y"===Z(n),f=Lt.has(r)?-1:1,u=s&&a?-1:1,c=ft(e,t);let{mainAxis:p,crossAxis:d,alignmentAxis:m}="number"==typeof c?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return l&&"number"==typeof m&&(d="end"===l?-1*m:m),a?{x:d*u,y:p*f}:{x:p*f,y:d*u}})).apply(this,arguments)}const ce=function(t){return void 0===t&&(t=0),{name:"offset",options:t,fn:e=>(0,$.A)(function*(){var n,o;const{x:i,y:s,placement:r,middlewareData:l}=e,a=yield function le(t,e){return bt.apply(this,arguments)}(e,t);return r===(null==(n=l.offset)?void 0:n.placement)&&null!=(o=l.arrow)&&o.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:r}}})()}};function mt(){return typeof window<"u"}function U(t){return kt(t)?(t.nodeName||"").toLowerCase():"#document"}function L(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function G(t){var e;return null==(e=(kt(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function kt(t){return!!mt()&&(t instanceof Node||t instanceof L(t).Node)}function j(t){return!!mt()&&(t instanceof Element||t instanceof L(t).Element)}function z(t){return!!mt()&&(t instanceof HTMLElement||t instanceof L(t).HTMLElement)}function Mt(t){return!(!mt()||typeof ShadowRoot>"u")&&(t instanceof ShadowRoot||t instanceof L(t).ShadowRoot)}const ae=new Set(["inline","contents"]);function it(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=B(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!ae.has(i)}const fe=new Set(["table","td","th"]);function ue(t){return fe.has(U(t))}const de=[":popover-open",":modal"];function me(t){return de.some(e=>{try{return t.matches(e)}catch{return!1}})}const pe=["transform","translate","scale","rotate","perspective"],ge=["transform","translate","scale","rotate","perspective","filter"],he=["paint","layout","strict","content"];function _t(t){const e=At(),n=j(t)?B(t):t;return pe.some(o=>!!n[o]&&"none"!==n[o])||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||ge.some(o=>(n.willChange||"").includes(o))||he.some(o=>(n.contain||"").includes(o))}function At(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const ye=new Set(["html","body","#document"]);function pt(t){return ye.has(U(t))}function B(t){return L(t).getComputedStyle(t)}function gt(t){return j(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function et(t){if("html"===U(t))return t;const e=t.assignedSlot||t.parentNode||Mt(t)&&t.host||G(t);return Mt(e)?e.host:e}function Ft(t){const e=et(t);return pt(e)?t.ownerDocument?t.ownerDocument.body:t.body:z(e)&&it(e)?e:Ft(e)}function st(t,e,n){var o;void 0===e&&(e=[]),void 0===n&&(n=!0);const i=Ft(t),s=i===(null==(o=t.ownerDocument)?void 0:o.body),r=L(i);if(s){const l=function xe(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}(r);return e.concat(r,r.visualViewport||[],it(i)?i:[],l&&n?st(l):[])}return e.concat(i,st(i,[],n))}function Bt(t){const e=B(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=z(t),s=i?t.offsetWidth:n,r=i?t.offsetHeight:o,l=Y(n)!==s||Y(o)!==r;return l&&(n=s,o=r),{width:n,height:o,$:l}}function Ct(t){return j(t)?t:t.contextElement}function nt(t){const e=Ct(t);if(!z(e))return T(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:s}=Bt(e);let r=(s?Y(n.width):n.width)/o,l=(s?Y(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const we=T(0);function Nt(t){const e=L(t);return At()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:we}function K(t,e,n,o){void 0===e&&(e=!1),void 0===n&&(n=!1);const i=t.getBoundingClientRect(),s=Ct(t);let r=T(1);e&&(o?j(o)&&(r=nt(o)):r=nt(t));const l=function be(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==L(t))&&e}(s,n,o)?Nt(s):T(0);let a=(i.left+l.x)/r.x,f=(i.top+l.y)/r.y,u=i.width/r.x,c=i.height/r.y;if(s){const p=L(s),d=o&&j(o)?L(o):o;let m=p,g=m.frameElement;for(;g&&o&&d!==m;){const h=nt(g),v=g.getBoundingClientRect(),y=B(g),x=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*h.x,_=v.top+(g.clientTop+parseFloat(y.paddingTop))*h.y;a*=h.x,f*=h.y,u*=h.x,c*=h.y,a+=x,f+=_,m=L(g),g=m.frameElement}}return dt({width:u,height:c,x:a,y:f})}const _e=[":popover-open",":modal"];function Vt(t){return _e.some(e=>{try{return t.matches(e)}catch{return!1}})}function $t(t){return K(G(t)).left+gt(t).scrollLeft}function Ht(t,e,n){let o;if("viewport"===e)o=function Oe(t,e){const n=L(t),o=G(t),i=n.visualViewport;let s=o.clientWidth,r=o.clientHeight,l=0,a=0;if(i){s=i.width,r=i.height;const f=At();(!f||f&&"fixed"===e)&&(l=i.offsetLeft,a=i.offsetTop)}return{width:s,height:r,x:l,y:a}}(t,n);else if("document"===e)o=function Re(t){const e=G(t),n=gt(t),o=t.ownerDocument.body,i=F(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),s=F(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let r=-n.scrollLeft+$t(t);const l=-n.scrollTop;return"rtl"===B(o).direction&&(r+=F(e.clientWidth,o.clientWidth)-i),{width:i,height:s,x:r,y:l}}(G(t));else if(j(e))o=function Se(t,e){const n=K(t,!0,"fixed"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft,s=z(t)?nt(t):T(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:i*s.x,y:o*s.y}}(e,n);else{const i=Nt(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return dt(o)}function It(t,e){const n=et(t);return!(n===e||!j(n)||pt(n))&&("fixed"===B(n).position||It(n,e))}function Pe(t,e){const n=e.get(t);if(n)return n;let o=st(t,[],!1).filter(l=>j(l)&&"body"!==U(l)),i=null;const s="fixed"===B(t).position;let r=s?et(t):t;for(;j(r)&&!pt(r);){const l=B(r),a=_t(r);!a&&"fixed"===l.position&&(i=null),(s?!a&&!i:!a&&"static"===l.position&&i&&["absolute","fixed"].includes(i.position)||it(r)&&!a&&It(t,r))?o=o.filter(u=>u!==r):i=l,r=et(r)}return e.set(t,o),o}function De(t,e,n){const o=z(e),i=G(e),s="fixed"===n,r=K(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const a=T(0);if(o||!o&&!s)if(("body"!==U(e)||it(i))&&(l=gt(e)),o){const c=K(e,!0,s,e);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else i&&(a.x=$t(i));return{x:r.left+l.scrollLeft-a.x,y:r.top+l.scrollTop-a.y,width:r.width,height:r.height}}function Wt(t,e){return z(t)&&"fixed"!==B(t).position?e?e(t):t.offsetParent:null}function jt(t,e){const n=L(t);if(!z(t)||Vt(t))return n;let o=Wt(t,e);for(;o&&ue(o)&&"static"===B(o).position;)o=Wt(o,e);return o&&("html"===U(o)||"body"===U(o)&&"static"===B(o).position&&!_t(o))?n:o||function ve(t){let e=et(t);for(;z(e)&&!pt(e);){if(_t(e))return e;if(me(e))return null;e=et(e)}return null}(t)||n}const Me={convertOffsetParentRelativeRectToViewportRelativeRect:function Ae(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const s="fixed"===i,r=G(o),l=!!e&&Vt(e.floating);if(o===r||l&&s)return n;let a={scrollLeft:0,scrollTop:0},f=T(1);const u=T(0),c=z(o);if((c||!c&&!s)&&(("body"!==U(o)||it(r))&&(a=gt(o)),z(o))){const p=K(o);f=nt(o),u.x=p.x+o.clientLeft,u.y=p.y+o.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-a.scrollLeft*f.x+u.x,y:n.y*f.y-a.scrollTop*f.y+u.y}},getDocumentElement:G,getClippingRect:function Ee(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[..."clippingAncestors"===n?Pe(e,this._c):[].concat(n),o],a=r.reduce((f,u)=>{const c=Ht(e,u,i);return f.top=F(c.top,f.top),f.right=H(c.right,f.right),f.bottom=H(c.bottom,f.bottom),f.left=F(c.left,f.left),f},Ht(e,r[0],i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:jt,getElementRects:function(){var t=(0,$.A)(function*(e){const n=this.getOffsetParent||jt,o=this.getDimensions;return{reference:De(e.reference,yield n(e.floating),e.strategy),floating:{x:0,y:0,...yield o(e.floating)}}});return function(n){return t.apply(this,arguments)}}(),getClientRects:function Ce(t){return Array.from(t.getClientRects())},getDimensions:function Te(t){const{width:e,height:n}=Bt(t);return{width:e,height:n}},getScale:nt,isElement:j,isRTL:function ke(t){return"rtl"===B(t).direction}};const Ne=function(t){return void 0===t&&(t={}),{name:"flip",options:t,fn:e=>(0,$.A)(function*(){var n,o;const{placement:i,middlewareData:s,rects:r,initialPlacement:l,platform:a,elements:f}=e,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:p,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...h}=ft(t,e);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const v=J(i),y=Z(l),x=J(l)===l,_=yield null==a.isRTL?void 0:a.isRTL(f.floating),C=p||(x||!g?[ut(l)]:function qt(t){const e=ut(t);return[xt(t),e,xt(e)]}(l)),A="none"!==m;!p&&A&&C.push(...function te(t,e,n,o){const i=ot(t);let s=function Jt(t,e,n){switch(t){case"top":case"bottom":return n?e?Ot:Rt:e?Rt:Ot;case"left":case"right":return e?Zt:Kt;default:return[]}}(J(t),"start"===n,o);return i&&(s=s.map(r=>r+"-"+i),e&&(s=s.concat(s.map(xt)))),s}(l,g,m,_));const S=[l,...C],N=yield tt(e,h),P=[];let b=(null==(o=s.flip)?void 0:o.overflows)||[];if(u&&P.push(N[v]),c){const O=function Qt(t,e,n){void 0===n&&(n=!1);const o=ot(t),i=yt(t),s=vt(i);let r="x"===i?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=ut(r)),[r,ut(r)]}(i,r,_);P.push(N[O[0]],N[O[1]])}if(b=[...b,{placement:i,overflows:P}],!P.every(O=>O<=0)){var R,E;const O=((null==(R=s.flip)?void 0:R.index)||0)+1,I=S[O];if(I&&("alignment"!==c||y===Z(I)||b.every(M=>M.overflows[0]>0&&Z(M.placement)===y)))return{data:{index:O,overflows:b},reset:{placement:I}};let V=null==(E=b.filter(k=>k.overflows[0]<=0).sort((k,M)=>k.overflows[1]-M.overflows[1])[0])?void 0:E.placement;if(!V)switch(d){case"bestFit":{var D;const k=null==(D=b.filter(M=>{if(A){const Q=Z(M.placement);return Q===y||"y"===Q}return!0}).map(M=>[M.placement,M.overflows.filter(Q=>Q>0).reduce((Q,Xe)=>Q+Xe,0)]).sort((M,Q)=>M[1]-Q[1])[0])?void 0:D[0];k&&(V=k);break}case"initialPlacement":V=l}if(i!==V)return{reset:{placement:V}}}return{}})()}},Ve=t=>({name:"arrow",options:t,fn:e=>(0,$.A)(function*(){const{x:n,y:o,placement:i,rects:s,platform:r,elements:l,middlewareData:a}=e,{element:f,padding:u=0}=ft(t,e)||{};if(null==f)return{};const c=St(u),p={x:n,y:o},d=yt(i),m=vt(d),g=yield r.getDimensions(f),h="y"===d,v=h?"top":"left",y=h?"bottom":"right",x=h?"clientHeight":"clientWidth",_=s.reference[m]+s.reference[d]-p[d]-s.floating[m],C=p[d]-s.reference[d],A=yield null==r.getOffsetParent?void 0:r.getOffsetParent(f);let S=A?A[x]:0;(!S||!(yield null==r.isElement?void 0:r.isElement(A)))&&(S=l.floating[x]||s.floating[m]);const N=_/2-C/2,P=S/2-g[m]/2-1,b=H(c[v],P),R=H(c[y],P),E=b,D=S-g[m]-R,O=S/2-g[m]/2+N,I=function Gt(t,e,n){return F(t,H(e,n))}(E,O,D),V=!a.arrow&&null!=ot(i)&&O!==I&&s.reference[m]/2-(O<E?b:R)-g[m]/2<0,k=V?O<E?O-E:O-D:0;return{[d]:p[d]+k,data:{[d]:I,centerOffset:O-I-k,...V&&{alignmentOffset:k}},reset:V}})()});var zt=q(91974);const He=["content"],Ie=["*"];function We(t,e){1&t&&w.\u0275\u0275element(0,"span",4)}function je(t,e){1&t&&w.\u0275\u0275element(0,"span",5)}let ze=(()=>{class t{constructor(n,o,i,s){this.elementRef=n,this.ngZone=o,this.renderer=i,this.changeDetectorRef=s,this._align="bottom",this.alignmentClassPrefix="cds--popover--",this.onClose=new w.EventEmitter,this.onOpen=new w.EventEmitter,this.isOpenChange=new w.EventEmitter,this.caret=!0,this.dropShadow=!0,this.highContrast=!1,this.autoAlign=!1,this.containerClass=!0,this.isOpen=!1}set align(n){if(!n)return;const o=this._align;switch(n){case"top-left":this._align="top-start";break;case"top-right":this._align="top-end";break;case"bottom-left":this._align="bottom-start";break;case"bottom-right":this._align="bottom-end";break;case"left-top":this._align="left-start";break;case"left-bottom":this._align="left-end";break;case"right-top":this._align="right-start";break;case"right-bottom":this._align="right-end";break;default:this._align=n}this.updateAlignmentClass(this._align,o)}handleChange(n,o){if(this.isOpen!==n&&o&&this.isOpenChange.emit(n),n){if(o&&this.onOpen.emit(o),this.autoAlign){if(this.caretRef){const i=getComputedStyle(this.caretRef),s=i.getPropertyValue("--cds-popover-offset"),r=i.getPropertyValue("--cds-popover-caret-height");this.caretOffset=(s?.includes("px")?Number(s.split("px",1)[0]):16*Number(s.split("rem",1)[0]))||10,this.caretHeight=(r?.includes("px")?Number(r.split("px",1)[0]):16*Number(r.split("rem",1)[0]))||6}this.elementRef.nativeElement&&this.popoverContentRef&&(this.unmountFloatingElement=function Be(t,e,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:r="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:a=!1}=o,f=Ct(t),u=i||s?[...f?st(f):[],...st(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const c=f&&l?function Fe(t,e){let o,n=null;const i=G(t);function s(){var l;clearTimeout(o),null==(l=n)||l.disconnect(),n=null}return function r(l,a){void 0===l&&(l=!1),void 0===a&&(a=1),s();const{left:f,top:u,width:c,height:p}=t.getBoundingClientRect();if(l||e(),!c||!p)return;const y={rootMargin:-W(u)+"px "+-W(i.clientWidth-(f+c))+"px "+-W(i.clientHeight-(u+p))+"px "+-W(f)+"px",threshold:F(0,H(1,a))||1};let x=!0;function _(C){const A=C[0].intersectionRatio;if(A!==a){if(!x)return r();A?r(!1,A):o=setTimeout(()=>{r(!1,1e-7)},100)}x=!1}try{n=new IntersectionObserver(_,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,y)}n.observe(t)}(!0),s}(f,n):null;let p=-1,d=null;r&&(d=new ResizeObserver(v=>{let[y]=v;y&&y.target===f&&d&&(d.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;null==(x=d)||x.observe(e)})),n()}),f&&!a&&d.observe(f),d.observe(e));let m,g=a?K(t):null;return a&&function h(){const v=K(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,m=requestAnimationFrame(h)}(),n(),()=>{var v;u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),c?.(),null==(v=d)||v.disconnect(),d=null,a&&cancelAnimationFrame(m)}}(this.elementRef.nativeElement,this.popoverContentRef,this.recomputePosition.bind(this)))}}else this.cleanUp(),o&&this.onClose.emit(o);this.isOpen=n,this.changeDetectorRef.markForCheck()}roundByDPR(n){const o=window.devicePixelRatio||1;return Math.round(n*o)/o}recomputePosition(){var n=this;this.ngZone.runOutsideAngular((0,$.A)(function*(){const{x:o,y:i,placement:s,middlewareData:r}=yield((t,e,n)=>{const i={platform:Me,...n},s={...i.platform,_c:new Map};return ne(t,e,{...i,platform:s})})(n.elementRef.nativeElement,n.popoverContentRef,{placement:n._align,strategy:"fixed",middleware:[ce(n.caretOffset),Ne({fallbackAxisSideDirection:"start"}),Ve({element:n.caretRef})]}),l=n._align;if(n._align=s,n.updateAlignmentClass(n._align,l),Object.assign(n.popoverContentRef.style,{position:"fixed",top:"0",left:"0",transform:`translate(${n.roundByDPR(o)}px,${n.roundByDPR(i)}px)`}),r.arrow){const{x:a,y:f}=r.arrow,u={top:"bottom",right:"left",bottom:"top",left:"right"}[s.split("-")[0]];n.caretRef.style.left=null!=a?`${a}px`:"",n.caretRef.style.top=null!=f?`${f}px`:"",n.caretRef.style.right="",n.caretRef.style.bottom="",u&&(n.caretRef.style[u]=-n.caretHeight+"px")}}))}ngOnChanges(n){const o=this.isOpen;this.handleChange(!1),n.autoAlign&&!n.autoAlign.firstChange&&(this.popoverContentRef=this.elementRef.nativeElement.querySelector(".cds--popover-content"),this.popoverContentRef.setAttribute("style",""),this.caretRef=this.elementRef.nativeElement.querySelector("span.cds--popover-caret")),this.handleChange(o)}ngAfterViewInit(){this.initializeReferences()}initializeReferences(){this.updateAlignmentClass(this._align),this.popoverContentRef=this.elementRef.nativeElement.querySelector(".cds--popover-content"),this.caretRef=this.elementRef.nativeElement.querySelector("span.cds--popover-caret"),this.handleChange(this.isOpen)}ngOnDestroy(){this.cleanUp()}cleanUp(){this.unmountFloatingElement&&this.unmountFloatingElement(),this.unmountFloatingElement=void 0}updateAlignmentClass(n,o){if(this.elementRef.nativeElement&&o!==n){const i=new RegExp("right|top|left|bottom");this.elementRef.nativeElement.classList.forEach(s=>{i.test(s)&&this.renderer.removeClass(this.elementRef.nativeElement,`${s}`)}),this.renderer.addClass(this.elementRef.nativeElement,`${this.alignmentClassPrefix}${n}`)}}}return t.\u0275fac=function(n){return new(n||t)(w.\u0275\u0275directiveInject(w.ElementRef),w.\u0275\u0275directiveInject(w.NgZone),w.\u0275\u0275directiveInject(w.Renderer2),w.\u0275\u0275directiveInject(w.ChangeDetectorRef))},t.\u0275dir=w.\u0275\u0275defineDirective({type:t,selectors:[["","cdsPopover",""],["","ibmPopover",""]],hostVars:12,hostBindings:function(n,o){2&n&&w.\u0275\u0275classProp("cds--popover--caret",o.caret)("cds--popover--drop-shadow",o.dropShadow)("cds--popover--high-contrast",o.highContrast)("cds--popover--auto-align",o.autoAlign)("cds--popover-container",o.containerClass)("cds--popover--open",o.isOpen)},inputs:{align:"align",caret:"caret",dropShadow:"dropShadow",highContrast:"highContrast",autoAlign:"autoAlign",isOpen:"isOpen"},outputs:{onClose:"onClose",onOpen:"onOpen",isOpenChange:"isOpenChange"},features:[w.\u0275\u0275NgOnChangesFeature]}),t})(),Ye=(()=>{class t{constructor(n){this.changeDetectorRef=n,this.popoverClass=!0,this.autoAlign=!1}ngAfterViewInit(){this.popoverContent&&(this.autoAlign=!!this.popoverContent.nativeElement.closest(".cds--popover--auto-align"),this.changeDetectorRef.detectChanges())}}return t.\u0275fac=function(n){return new(n||t)(w.\u0275\u0275directiveInject(w.ChangeDetectorRef))},t.\u0275cmp=w.\u0275\u0275defineComponent({type:t,selectors:[["cds-popover-content"],["ibm-popover-content"]],viewQuery:function(n,o){if(1&n&&w.\u0275\u0275viewQuery(He,5),2&n){let i;w.\u0275\u0275queryRefresh(i=w.\u0275\u0275loadQuery())&&(o.popoverContent=i.first)}},hostVars:2,hostBindings:function(n,o){2&n&&w.\u0275\u0275classProp("cds--popover",o.popoverClass)},ngContentSelectors:Ie,decls:6,vars:2,consts:[["content",""],[1,"cds--popover-content"],["class","cds--popover-caret cds--popover--auto-align",4,"ngIf"],["class","cds--popover-caret",4,"ngIf"],[1,"cds--popover-caret","cds--popover--auto-align"],[1,"cds--popover-caret"]],template:function(n,o){1&n&&(w.\u0275\u0275projectionDef(),w.\u0275\u0275elementStart(0,"span",1,0)(2,"div"),w.\u0275\u0275projection(3),w.\u0275\u0275elementEnd(),w.\u0275\u0275template(4,We,1,0,"span",2),w.\u0275\u0275elementEnd(),w.\u0275\u0275template(5,je,1,0,"span",3)),2&n&&(w.\u0275\u0275advance(4),w.\u0275\u0275property("ngIf",o.autoAlign),w.\u0275\u0275advance(),w.\u0275\u0275property("ngIf",!o.autoAlign))},dependencies:[zt.NgIf],encapsulation:2}),t})(),Ge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=w.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=w.\u0275\u0275defineInjector({imports:[zt.CommonModule]}),t})()},73308:(Yt,rt,q)=>{function $(lt,ct,at,H,F,Y,W){try{var T=lt[Y](W),X=T.value}catch(ht){return void at(ht)}T.done?ct(X):Promise.resolve(X).then(H,F)}function w(lt){return function(){var ct=this,at=arguments;return new Promise(function(H,F){var Y=lt.apply(ct,at);function W(X){$(Y,H,F,W,T,"next",X)}function T(X){$(Y,H,F,W,T,"throw",X)}W(void 0)})}}q.d(rt,{A:()=>w})}}]);