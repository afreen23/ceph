(self.webpackChunkceph_dashboard=self.webpackChunkceph_dashboard||[]).push([["default-node_modules_carbon-components-angular_fesm2020_carbon-components-angular-treeview_mjs"],{56132:(G,g,d)=>{d.r(g),d.d(g,{TreeNodeComponent:()=>s,TreeViewComponent:()=>_,TreeViewService:()=>c,TreeviewModule:()=>p});var e=d(87536),a=d(91974),m=d(98920),f=d(95631);const h=["*"],C=(l,t,n,i,o,r)=>({"cds--tree-node--active":l,"cds--tree-node--disabled":t,"cds--tree-node--selected":n,"cds--tree-leaf-node":i,"cds--tree-parent-node":o,"cds--tree-node--with-icon":r}),u=l=>({$implicit:l}),T=l=>({"cds--tree-parent-node__toggle-icon--expanded":l});function E(l,t){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(1,"svg",7),e.\u0275\u0275elementContainerEnd()),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275property("cdsIcon",n.icon)}}function v(l,t){}function b(l,t){if(1&l&&e.\u0275\u0275template(0,v,0,0,"ng-template",8),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngTemplateOutlet",n.icon)}}function O(l,t){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275elementContainerEnd()),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.label)}}function x(l,t){}function I(l,t){if(1&l&&e.\u0275\u0275template(0,x,0,0,"ng-template",9),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngTemplateOutlet",n.label)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,u,n.labelContext))}}function M(l,t){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.nodeClick(o))}),e.\u0275\u0275template(1,E,2,1,"ng-container",6)(2,b,1,1,null,6)(3,O,2,1,"ng-container",6)(4,I,1,4,null,6),e.\u0275\u0275elementEnd()}if(2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275styleProp("padding-inline-start",n.offset,"rem")("margin-inline-start",-n.offset,"rem"),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.icon&&!n.isTemplate(n.icon)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.isTemplate(n.icon)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!n.isTemplate(n.label)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.isTemplate(n.label))}}function y(l,t){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(1,"svg",7),e.\u0275\u0275elementContainerEnd()),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275property("cdsIcon",n.icon)}}function P(l,t){}function D(l,t){if(1&l&&e.\u0275\u0275template(0,P,0,0,"ng-template",9),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngTemplateOutlet",n.icon)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,u,n.iconContext))}}function w(l,t){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275elementContainerEnd()),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.label)}}function N(l,t){}function S(l,t){if(1&l&&e.\u0275\u0275template(0,N,0,0,"ng-template",9),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngTemplateOutlet",n.label)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,u,n.labelContext))}}function R(l,t){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.nodeClick(o))}),e.\u0275\u0275elementStart(1,"span",11),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.toggleExpanded(o))}),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(2,"svg",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(3,"span",13),e.\u0275\u0275template(4,y,2,1,"ng-container",6)(5,D,1,4,null,6)(6,w,2,1,"ng-container",6)(7,S,1,4,null,6),e.\u0275\u0275elementEnd()()}if(2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275styleProp("padding-inline-start",n.offset,"rem")("margin-inline-start",-n.offset,"rem"),e.\u0275\u0275advance(),e.\u0275\u0275attribute("disabled",n.disabled||null),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(10,T,n.expanded)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.icon&&!n.isTemplate(n.icon)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.isTemplate(n.icon)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!n.isTemplate(n.label)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.isTemplate(n.label))}}function V(l,t){1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275projection(1),e.\u0275\u0275elementContainerEnd())}function W(l,t){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"cds-tree-node",17),e.\u0275\u0275listener("nodetoggle",function(o){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(r.nodetoggle.emit(o))}),e.\u0275\u0275elementEnd()}if(2&l){const n=t.$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("node",n)("depth",i.depth+1)("disabled",i.disabled)}}function A(l,t){if(1&l&&e.\u0275\u0275template(0,W,1,3,"cds-tree-node",16),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngForOf",n.children)}}function B(l,t){if(1&l&&(e.\u0275\u0275elementStart(0,"div",14),e.\u0275\u0275template(1,V,2,0,"ng-container",15)(2,A,1,1,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&l){const n=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.isProjected())("ngIfElse",n)}}const L=["treeWrapper"],U=(l,t)=>({"cds--tree--sm":l,"cds--tree--xs":t});function K(l,t){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275elementContainerEnd()),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.label)}}function k(l,t){}function j(l,t){if(1&l&&e.\u0275\u0275template(0,k,0,0,"ng-template",7),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngTemplateOutlet",n.label)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,u,n.labelContext))}}function F(l,t){if(1&l&&(e.\u0275\u0275elementStart(0,"label",5),e.\u0275\u0275template(1,K,2,1,"ng-container",6)(2,j,1,4,null,6),e.\u0275\u0275elementEnd()),2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("id",n.id),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!n.isTemplate(n.label)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.isTemplate(n.label))}}function $(l,t){1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275projection(1),e.\u0275\u0275elementContainerEnd())}function z(l,t){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"cds-tree-node",9),e.\u0275\u0275listener("nodetoggle",function(o){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.onNodeToggle(o))}),e.\u0275\u0275elementEnd()}if(2&l){const n=t.$implicit;e.\u0275\u0275property("node",n)}}function Q(l,t){if(1&l&&e.\u0275\u0275template(0,z,1,1,"cds-tree-node",8),2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngForOf",n.tree)}}class c{constructor(){this.contentProjected=!0,this.isMultiSelect=!1,this.selectionSubject=new f.ReplaySubject(1),this.focusNodeSubject=new f.ReplaySubject(1),this.value=new Map,this.selectionObservable=this.selectionSubject.asObservable(),this.focusNodeObservable=this.focusNodeSubject.asObservable()}focusNode(t){this.focusNodeSubject.next(t)}selectNode(t){t&&(this.isMultiSelect||this.value.clear(),this.value.set(t.id,t),this.selectionSubject.next(this.value))}deselectNode(t){t&&(this.value.delete(t.id),this.selectionSubject.next(this.value))}deselectAllNodes(){this.value.clear(),this.selectionSubject.next(this.value)}}c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=e.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac});class s{constructor(t){this.treeViewService=t,this.id="tree-node-"+s.treeNodeCount++,this.active=!1,this.disabled=!1,this.selectable=!0,this.expanded=!1,this.selected=!1,this.gap=0,this.children=[],this.depth=0,this.nodeFocus=new e.EventEmitter,this.nodeBlur=new e.EventEmitter,this.nodeSelect=new e.EventEmitter,this.nodetoggle=new e.EventEmitter}set node(t){this._node=t,this.id=t.id??this.id,this.active=t.active??this.active,this.disabled=t.disabled??this.disabled,this.selectable=t.selectable??this.selectable,this.expanded=t.expanded??this.expanded,this.label=t.label??this.label,this.labelContext=t.labelContext??this.labelContext,this.value=t.value??this.value,this.icon=t.icon??this.icon,this.selected=t.selected??this.selected,this.depth=t.depth??this.depth,this.gap=t.gap??this.gap,this.children=t.children??this.children,this.iconContext=t.iconText??this.iconContext}get node(){return this._node}ngAfterContentChecked(){this.offset=this.calculateOffset()}ngOnInit(){this.subscription=this.treeViewService.selectionObservable.subscribe(t=>{this.selected=this.selectable&&t.has(this.id),this.active=this.selectable&&this.selected})}ngOnDestroy(){this.subscription?.unsubscribe()}nodeClick(t){if(!this.disabled)if(t.target.parentElement.focus(),this.selectable||0===this.children.length){this.selected=!0,this.active=!0;const n={id:this.id,label:this.label,value:this.value};this.treeViewService.selectNode(n),this.nodeSelect.emit(n)}else this.toggleExpanded(t)}calculateOffset(){return this.children.length&&this.icon?this.depth+1+.5*this.depth:this.children.length?this.depth+1:this.icon?this.depth+2+.5*this.depth:this.depth+this.gap+2.5}emitFocusEvent(t){const n={id:this.id,label:this.label,value:this.value};this.nodeFocus.emit({node:n,event:t}),this.treeViewService.focusNode(n)}emitBlurEvent(t){this.nodeBlur.emit({node:{id:this.id,label:this.label,value:this.value},event:t})}toggleExpanded(t){this.disabled||(this.nodetoggle.emit({node:{id:this.id,label:this.label,value:this.value},event:t}),this.expanded=!this.expanded,t.stopPropagation())}navigateTree(t){("ArrowLeft"===t.key||"ArrowRight"===t.key||"Enter"===t.key)&&t.stopPropagation(),"ArrowLeft"===t.key&&this.expanded&&this.children&&this.toggleExpanded(t),"ArrowRight"===t.key&&!this.expanded&&this.children&&this.toggleExpanded(t),"Enter"===t.key&&(t.preventDefault(),this.nodeClick(t))}isTemplate(t){return t instanceof e.TemplateRef}isProjected(){return this.treeViewService.contentProjected}}s.treeNodeCount=0,s.\u0275fac=function(t){return new(t||s)(e.\u0275\u0275directiveInject(c))},s.\u0275cmp=e.\u0275\u0275defineComponent({type:s,selectors:[["cds-tree-node"]],inputs:{id:"id",active:"active",disabled:"disabled",selectable:"selectable",expanded:"expanded",label:"label",labelContext:"labelContext",selected:"selected",value:"value",icon:"icon",iconContext:"iconContext",gap:"gap",children:"children",depth:"depth",node:"node"},outputs:{nodeFocus:"nodeFocus",nodeBlur:"nodeBlur",nodeSelect:"nodeSelect",nodetoggle:"nodetoggle"},ngContentSelectors:h,decls:4,vars:17,consts:[["notProjected",""],["role","treeitem",1,"cds--tree-node",3,"focus","blur","keydown","id","ngClass"],["class","cds--tree-node__label",3,"padding-inline-start","margin-inline-start","click",4,"ngIf"],["class","cds--tree-node__label","role","group",3,"padding-inline-start","margin-inline-start","click",4,"ngIf"],["role","group","class","cds--tree-node__children",4,"ngIf"],[1,"cds--tree-node__label",3,"click"],[4,"ngIf"],["size","16",1,"cds--tree-node__icon",3,"cdsIcon"],[3,"ngTemplateOutlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","group",1,"cds--tree-node__label",3,"click"],[1,"cds--tree-parent-node__toggle",3,"click"],["ibmIcon","caret--down","size","16",1,"cds--tree-parent-node__toggle-icon",3,"ngClass"],[1,"cds--tree-node__label__details"],["role","group",1,"cds--tree-node__children"],[4,"ngIf","ngIfElse"],[3,"node","depth","disabled","nodetoggle",4,"ngFor","ngForOf"],[3,"nodetoggle","node","depth","disabled"]],template:function(t,n){1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",1),e.\u0275\u0275listener("focus",function(o){return n.emitFocusEvent(o)})("blur",function(o){return n.emitBlurEvent(o)})("keydown",function(o){return n.navigateTree(o)}),e.\u0275\u0275template(1,M,5,8,"div",2)(2,R,8,12,"div",3)(3,B,4,2,"div",4),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("id",n.id)("ngClass",e.\u0275\u0275pureFunction6(10,C,n.active,n.disabled,n.selected,!n.children.length,n.children.length,n.icon)),e.\u0275\u0275attribute("aria-expanded",n.expanded||null)("aria-current",n.active||null)("aria-selected",n.disabled?null:n.selected)("aria-disabled",n.disabled)("tabindex",n.selected?0:-1),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!n.children.length),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.children.length),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.expanded))},dependencies:[a.NgClass,a.NgForOf,a.NgIf,a.NgTemplateOutlet,m.IconDirective,s],encapsulation:2});class _{constructor(t,n,i){this.document=t,this.treeViewService=n,this.elementRef=i,this.id="tree-view-"+_.treeViewCount++,this.size="sm",this.select=new e.EventEmitter,this.toggle=new e.EventEmitter,this._tree=[]}set tree(t){this._tree=t.map(n=>this.copyNode(n)),this.treeViewService.contentProjected=!1}get tree(){return this._tree}set isMultiSelect(t){this.treeViewService.isMultiSelect=t}ngOnInit(){this.subscription=this.treeViewService.selectionObservable.subscribe(t=>{const n=[...t.values()];this.select.emit(this.treeViewService.isMultiSelect?n:n[0])}),this.subscription.add(this.treeViewService.focusNodeObservable.subscribe(t=>this.onNodeFocusChange(t)))}ngOnDestroy(){this.subscription.unsubscribe()}ngAfterViewInit(){this.treeWalker=this.document.createTreeWalker(this.root.nativeElement,NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return t.classList.contains("cds--tree-node--disabled")?NodeFilter.FILTER_REJECT:t.matches("div.cds--tree-node")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}})}navigateTree(t){"ArrowUp"===t.key&&this.treeWalker.previousNode()?.focus(),"ArrowDown"===t.key&&this.treeWalker.nextNode()?.focus()}onNodeToggle(t){t&&this.toggle.emit(t.node)}onNodeFocusChange(t){this.treeWalker.currentNode=t?this.elementRef.nativeElement.querySelector(`#${CSS.escape(t.id)}`):this.treeWalker.root}isTemplate(t){return t instanceof e.TemplateRef}isProjected(){return this.treeViewService.contentProjected}copyNode(t){const n=Object.assign({},t);return t.children&&(n.children=t.children.map(i=>this.copyNode(i))),n}}_.treeViewCount=0,_.\u0275fac=function(t){return new(t||_)(e.\u0275\u0275directiveInject(a.DOCUMENT),e.\u0275\u0275directiveInject(c),e.\u0275\u0275directiveInject(e.ElementRef))},_.\u0275cmp=e.\u0275\u0275defineComponent({type:_,selectors:[["cds-tree-view"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(L,5),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.root=i.first)}},inputs:{tree:"tree",id:"id",label:"label",labelContext:"labelContext",size:"size",isMultiSelect:"isMultiSelect"},outputs:{select:"select",toggle:"toggle"},features:[e.\u0275\u0275ProvidersFeature([c])],ngContentSelectors:h,decls:6,vars:10,consts:[["treeWrapper",""],["notProjected",""],["class","cds--label",3,"id",4,"ngIf"],["role","tree",1,"cds--tree",3,"keydown","ngClass"],[4,"ngIf","ngIfElse"],[1,"cds--label",3,"id"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"node","nodetoggle",4,"ngFor","ngForOf"],[3,"nodetoggle","node"]],template:function(t,n){if(1&t){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,F,3,3,"label",2),e.\u0275\u0275elementStart(1,"div",3,0),e.\u0275\u0275listener("keydown",function(r){return e.\u0275\u0275restoreView(i),e.\u0275\u0275resetView(n.navigateTree(r))}),e.\u0275\u0275template(3,$,2,0,"ng-container",4)(4,Q,1,1,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&t){const i=e.\u0275\u0275reference(5);e.\u0275\u0275property("ngIf",n.label),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(7,U,"sm"===n.size,"xs"===n.size)),e.\u0275\u0275attribute("aria-label",n.label?n.label:null)("aria-labelledby",n.label?null:n.id)("aria-multiselectable",n.isMultiSelect||null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isProjected())("ngIfElse",i)}},dependencies:[a.NgClass,a.NgForOf,a.NgIf,a.NgTemplateOutlet,s],encapsulation:2});class p{}p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=e.\u0275\u0275defineInjector({imports:[a.CommonModule,m.IconModule]})}}]);
//# sourceMappingURL=default-node_modules_carbon-components-angular_fesm2020_carbon-components-angular-treeview_mjs.js.map