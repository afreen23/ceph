(self.webpackChunkceph_dashboard=self.webpackChunkceph_dashboard||[]).push([["node_modules_carbon-components-angular_fesm2020_carbon-components-angular-popover_mjs","node_modules_babel_runtime_helpers_esm_asyncToGenerator_js-_db250","node_modules_babel_runtime_helpers_esm_asyncToGenerator_js-_db251"],{29705:(Ut,at,Z)=>{Z.r(at),Z.d(at,{PopoverContainer:()=>lt,PopoverContent:()=>ct,PopoverModule:()=>ot});var I=Z(56207),_=Z(87536);const N=Math.min,k=Math.max,G=Math.round,$=Math.floor,T=t=>({x:t,y:t}),X={left:"right",right:"left",bottom:"top",top:"bottom"},xt={start:"end",end:"start"};function pt(t,e){return"function"==typeof t?t(e):t}function J(t){return t.split("-")[0]}function it(t){return t.split("-")[1]}function _t(t){return"y"===t?"height":"width"}const qt=new Set(["top","bottom"]);function q(t){return qt.has(J(t))?"y":"x"}function wt(t){return function Zt(t){return"x"===t?"y":"x"}(q(t))}function bt(t){return t.replace(/start|end/g,e=>xt[e])}const St=["left","right"],Et=["right","left"],te=["top","bottom"],ee=["bottom","top"];function oe(t,e,n,o){const i=it(t);let s=function ne(t,e,n){switch(t){case"top":case"bottom":return n?e?Et:St:e?St:Et;case"left":case"right":return e?te:ee;default:return[]}}(J(t),"start"===n,o);return i&&(s=s.map(r=>r+"-"+i),e&&(s=s.concat(s.map(bt)))),s}function mt(t){return t.replace(/left|right|bottom|top/g,e=>X[e])}function Tt(t){return"number"!=typeof t?function ie(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function gt(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function Dt(t,e,n){let{reference:o,floating:i}=t;const s=q(e),r=wt(e),l=_t(r),a=J(e),f="y"===s,d=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,m=o[l]/2-i[l]/2;let u;switch(a){case"top":u={x:d,y:o.y-i.height};break;case"bottom":u={x:d,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:c};break;case"left":u={x:o.x-i.width,y:c};break;default:u={x:o.x,y:o.y}}switch(it(e)){case"start":u[r]-=m*(n&&f?-1:1);break;case"end":u[r]+=m*(n&&f?-1:1)}return u}const se=function(){var t=(0,I.A)(function*(e,n,o){const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:l}=o,a=r.filter(Boolean),f=yield null==l.isRTL?void 0:l.isRTL(n);let d=yield l.getElementRects({reference:e,floating:n,strategy:s}),{x:c,y:m}=Dt(d,i,f),u=i,p={},g=0;for(let h=0;h<a.length;h++){const{name:v,fn:y}=a[h],{x,y:b,data:A,reset:C}=yield y({x:c,y:m,initialPlacement:i,placement:u,strategy:s,middlewareData:p,rects:d,platform:l,elements:{reference:e,floating:n}});c=x??c,m=b??m,p={...p,[v]:{...p[v],...A}},C&&g<=50&&(g++,"object"==typeof C&&(C.placement&&(u=C.placement),C.rects&&(d=!0===C.rects?yield l.getElementRects({reference:e,floating:n,strategy:s}):C.rects),({x:c,y:m}=Dt(d,u,f))),h=-1)}return{x:c,y:m,placement:u,strategy:s,middlewareData:p}});return function(n,o,i){return t.apply(this,arguments)}}();function tt(t,e){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,I.A)(function*(t,e){var n;void 0===e&&(e={});const{x:o,y:i,platform:s,rects:r,elements:l,strategy:a}=t,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:c="floating",altBoundary:m=!1,padding:u=0}=pt(e,t),p=Tt(u),h=l[m?"floating"===c?"reference":"floating":c],v=gt(yield s.getClippingRect({element:null==(n=yield null==s.isElement?void 0:s.isElement(h))||n?h:h.contextElement||(yield null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:f,rootBoundary:d,strategy:a})),y="floating"===c?{x:o,y:i,width:r.floating.width,height:r.floating.height}:r.reference,x=yield null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating),b=(yield null==s.isElement?void 0:s.isElement(x))&&(yield null==s.getScale?void 0:s.getScale(x))||{x:1,y:1},A=gt(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:a}):y);return{top:(v.top-A.top+p.top)/b.y,bottom:(A.bottom-v.bottom+p.bottom)/b.y,left:(v.left-A.left+p.left)/b.x,right:(A.right-v.right+p.right)/b.x}})).apply(this,arguments)}const kt=new Set(["left","top"]);function At(){return(At=(0,I.A)(function*(t,e){const{placement:n,platform:o,elements:i}=t,s=yield null==o.isRTL?void 0:o.isRTL(i.floating),r=J(n),l=it(n),a="y"===q(n),f=kt.has(r)?-1:1,d=s&&a?-1:1,c=pt(e,t);let{mainAxis:m,crossAxis:u,alignmentAxis:p}="number"==typeof c?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return l&&"number"==typeof p&&(u="end"===l?-1*p:p),a?{x:u*d,y:m*f}:{x:m*f,y:u*d}})).apply(this,arguments)}const ue=function(t){return void 0===t&&(t=0),{name:"offset",options:t,fn:e=>(0,I.A)(function*(){var n,o;const{x:i,y:s,placement:r,middlewareData:l}=e,a=yield function fe(t,e){return At.apply(this,arguments)}(e,t);return r===(null==(n=l.offset)?void 0:n.placement)&&null!=(o=l.arrow)&&o.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:r}}})()}};function ht(){return typeof window<"u"}function U(t){return Bt(t)?(t.nodeName||"").toLowerCase():"#document"}function j(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function Y(t){var e;return null==(e=(Bt(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function Bt(t){return!!ht()&&(t instanceof Node||t instanceof j(t).Node)}function W(t){return!!ht()&&(t instanceof Element||t instanceof j(t).Element)}function z(t){return!!ht()&&(t instanceof HTMLElement||t instanceof j(t).HTMLElement)}function Ft(t){return!(!ht()||typeof ShadowRoot>"u")&&(t instanceof ShadowRoot||t instanceof j(t).ShadowRoot)}const de=new Set(["inline","contents"]);function st(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=B(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!de.has(i)}const pe=new Set(["table","td","th"]);function me(t){return pe.has(U(t))}const ge=[":popover-open",":modal"];function he(t){return ge.some(e=>{try{return t.matches(e)}catch{return!1}})}const ve=["transform","translate","scale","rotate","perspective"],ye=["transform","translate","scale","rotate","perspective","filter"],xe=["paint","layout","strict","content"];function Rt(t){const e=Ot(),n=W(t)?B(t):t;return ve.some(o=>!!n[o]&&"none"!==n[o])||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||ye.some(o=>(n.willChange||"").includes(o))||xe.some(o=>(n.contain||"").includes(o))}function Ot(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const we=new Set(["html","body","#document"]);function vt(t){return we.has(U(t))}function B(t){return j(t).getComputedStyle(t)}function yt(t){return W(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function et(t){if("html"===U(t))return t;const e=t.assignedSlot||t.parentNode||Ft(t)&&t.host||Y(t);return Ft(e)?e.host:e}function Ht(t){const e=et(t);return vt(e)?t.ownerDocument?t.ownerDocument.body:t.body:z(e)&&st(e)?e:Ht(e)}function rt(t,e,n){var o;void 0===e&&(e=[]),void 0===n&&(n=!0);const i=Ht(t),s=i===(null==(o=t.ownerDocument)?void 0:o.body),r=j(i);if(s){const l=function be(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}(r);return e.concat(r,r.visualViewport||[],st(i)?i:[],l&&n?rt(l):[])}return e.concat(i,rt(i,[],n))}function It(t){const e=B(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=z(t),s=i?t.offsetWidth:n,r=i?t.offsetHeight:o,l=G(n)!==s||G(o)!==r;return l&&(n=s,o=r),{width:n,height:o,$:l}}function Pt(t){return W(t)?t:t.contextElement}function nt(t){const e=Pt(t);if(!z(e))return T(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:s}=It(e);let r=(s?G(n.width):n.width)/o,l=(s?G(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const Ce=T(0);function Nt(t){const e=j(t);return Ot()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:Ce}function K(t,e,n,o){void 0===e&&(e=!1),void 0===n&&(n=!1);const i=t.getBoundingClientRect(),s=Pt(t);let r=T(1);e&&(o?W(o)&&(r=nt(o)):r=nt(t));const l=function Ae(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==j(t))&&e}(s,n,o)?Nt(s):T(0);let a=(i.left+l.x)/r.x,f=(i.top+l.y)/r.y,d=i.width/r.x,c=i.height/r.y;if(s){const m=j(s),u=o&&W(o)?j(o):o;let p=m,g=p.frameElement;for(;g&&o&&u!==p;){const h=nt(g),v=g.getBoundingClientRect(),y=B(g),x=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*h.x,b=v.top+(g.clientTop+parseFloat(y.paddingTop))*h.y;a*=h.x,f*=h.y,d*=h.x,c*=h.y,a+=x,f+=b,p=j(g),g=p.frameElement}}return gt({width:d,height:c,x:a,y:f})}const Re=[":popover-open",":modal"];function Vt(t){return Re.some(e=>{try{return t.matches(e)}catch{return!1}})}function $t(t){return K(Y(t)).left+yt(t).scrollLeft}function Wt(t,e,n){let o;if("viewport"===e)o=function Ee(t,e){const n=j(t),o=Y(t),i=n.visualViewport;let s=o.clientWidth,r=o.clientHeight,l=0,a=0;if(i){s=i.width,r=i.height;const f=Ot();(!f||f&&"fixed"===e)&&(l=i.offsetLeft,a=i.offsetTop)}return{width:s,height:r,x:l,y:a}}(t,n);else if("document"===e)o=function Se(t){const e=Y(t),n=yt(t),o=t.ownerDocument.body,i=k(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),s=k(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let r=-n.scrollLeft+$t(t);const l=-n.scrollTop;return"rtl"===B(o).direction&&(r+=k(e.clientWidth,o.clientWidth)-i),{width:i,height:s,x:r,y:l}}(Y(t));else if(W(e))o=function Te(t,e){const n=K(t,!0,"fixed"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft,s=z(t)?nt(t):T(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:i*s.x,y:o*s.y}}(e,n);else{const i=Nt(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return gt(o)}function zt(t,e){const n=et(t);return!(n===e||!W(n)||vt(n))&&("fixed"===B(n).position||zt(n,e))}function De(t,e){const n=e.get(t);if(n)return n;let o=rt(t,[],!1).filter(l=>W(l)&&"body"!==U(l)),i=null;const s="fixed"===B(t).position;let r=s?et(t):t;for(;W(r)&&!vt(r);){const l=B(r),a=Rt(r);!a&&"fixed"===l.position&&(i=null),(s?!a&&!i:!a&&"static"===l.position&&i&&["absolute","fixed"].includes(i.position)||st(r)&&!a&&zt(t,r))?o=o.filter(d=>d!==r):i=l,r=et(r)}return e.set(t,o),o}function Me(t,e,n){const o=z(e),i=Y(e),s="fixed"===n,r=K(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const a=T(0);if(o||!o&&!s)if(("body"!==U(e)||st(i))&&(l=yt(e)),o){const c=K(e,!0,s,e);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else i&&(a.x=$t(i));return{x:r.left+l.scrollLeft-a.x,y:r.top+l.scrollTop-a.y,width:r.width,height:r.height}}function Gt(t,e){return z(t)&&"fixed"!==B(t).position?e?e(t):t.offsetParent:null}function Yt(t,e){const n=j(t);if(!z(t)||Vt(t))return n;let o=Gt(t,e);for(;o&&me(o)&&"static"===B(o).position;)o=Gt(o,e);return o&&("html"===U(o)||"body"===U(o)&&"static"===B(o).position&&!Rt(o))?n:o||function _e(t){let e=et(t);for(;z(e)&&!vt(e);){if(Rt(e))return e;if(he(e))return null;e=et(e)}return null}(t)||n}const Fe={convertOffsetParentRelativeRectToViewportRelativeRect:function Oe(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const s="fixed"===i,r=Y(o),l=!!e&&Vt(e.floating);if(o===r||l&&s)return n;let a={scrollLeft:0,scrollTop:0},f=T(1);const d=T(0),c=z(o);if((c||!c&&!s)&&(("body"!==U(o)||st(r))&&(a=yt(o)),z(o))){const m=K(o);f=nt(o),d.x=m.x+o.clientLeft,d.y=m.y+o.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-a.scrollLeft*f.x+d.x,y:n.y*f.y-a.scrollTop*f.y+d.y}},getDocumentElement:Y,getClippingRect:function je(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[..."clippingAncestors"===n?De(e,this._c):[].concat(n),o],l=r[0],a=r.reduce((f,d)=>{const c=Wt(e,d,i);return f.top=k(c.top,f.top),f.right=N(c.right,f.right),f.bottom=N(c.bottom,f.bottom),f.left=k(c.left,f.left),f},Wt(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Yt,getElementRects:function(){var t=(0,I.A)(function*(e){const n=this.getOffsetParent||Yt,o=this.getDimensions;return{reference:Me(e.reference,yield n(e.floating),e.strategy),floating:{x:0,y:0,...yield o(e.floating)}}});return function(n){return t.apply(this,arguments)}}(),getClientRects:function Pe(t){return Array.from(t.getClientRects())},getDimensions:function Le(t){const{width:e,height:n}=It(t);return{width:e,height:n}},getScale:nt,isElement:W,isRTL:function Be(t){return"rtl"===B(t).direction}};function Ie(t,e,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:r="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:a=!1}=o,f=Pt(t),d=i||s?[...f?rt(f):[],...rt(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const c=f&&l?function He(t,e){let o,n=null;const i=Y(t);function s(){var l;clearTimeout(o),null==(l=n)||l.disconnect(),n=null}return function r(l,a){void 0===l&&(l=!1),void 0===a&&(a=1),s();const{left:f,top:d,width:c,height:m}=t.getBoundingClientRect();if(l||e(),!c||!m)return;const y={rootMargin:-$(d)+"px "+-$(i.clientWidth-(f+c))+"px "+-$(i.clientHeight-(d+m))+"px "+-$(f)+"px",threshold:k(0,N(1,a))||1};let x=!0;function b(A){const C=A[0].intersectionRatio;if(C!==a){if(!x)return r();C?r(!1,C):o=setTimeout(()=>{r(!1,1e-7)},100)}x=!1}try{n=new IntersectionObserver(b,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,y)}n.observe(t)}(!0),s}(f,n):null;let m=-1,u=null;r&&(u=new ResizeObserver(v=>{let[y]=v;y&&y.target===f&&u&&(u.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;null==(x=u)||x.observe(e)})),n()}),f&&!a&&u.observe(f),u.observe(e));let p,g=a?K(t):null;return a&&function h(){const v=K(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,p=requestAnimationFrame(h)}(),n(),()=>{var v;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),c?.(),null==(v=u)||v.disconnect(),u=null,a&&cancelAnimationFrame(p)}}const Ne=function(t){return void 0===t&&(t={}),{name:"flip",options:t,fn:e=>(0,I.A)(function*(){var n,o;const{placement:i,middlewareData:s,rects:r,initialPlacement:l,platform:a,elements:f}=e,{mainAxis:d=!0,crossAxis:c=!0,fallbackPlacements:m,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...h}=pt(t,e);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const v=J(i),y=q(l),x=J(l)===l,b=yield null==a.isRTL?void 0:a.isRTL(f.floating),A=m||(x||!g?[mt(l)]:function Jt(t){const e=mt(t);return[bt(t),e,bt(e)]}(l)),C="none"!==p;!m&&C&&A.push(...oe(l,g,p,b));const P=[l,...A],F=yield tt(e,h),S=[];let w=(null==(o=s.flip)?void 0:o.overflows)||[];if(d&&S.push(F[v]),c){const O=function Kt(t,e,n){void 0===n&&(n=!1);const o=it(t),i=wt(t),s=_t(i);let r="x"===i?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=mt(r)),[r,mt(r)]}(i,r,b);S.push(F[O[0]],F[O[1]])}if(w=[...w,{placement:i,overflows:S}],!S.every(O=>O<=0)){var R,E;const O=((null==(R=s.flip)?void 0:R.index)||0)+1,V=P[O];if(V&&("alignment"!==c||y===q(V)||w.every(M=>M.overflows[0]>0&&q(M.placement)===y)))return{data:{index:O,overflows:w},reset:{placement:V}};let H=null==(E=w.filter(L=>L.overflows[0]<=0).sort((L,M)=>L.overflows[1]-M.overflows[1])[0])?void 0:E.placement;if(!H)switch(u){case"bestFit":{var D;const L=null==(D=w.filter(M=>{if(C){const Q=q(M.placement);return Q===y||"y"===Q}return!0}).map(M=>[M.placement,M.overflows.filter(Q=>Q>0).reduce((Q,Xe)=>Q+Xe,0)]).sort((M,Q)=>M[1]-Q[1])[0])?void 0:D[0];L&&(H=L);break}case"initialPlacement":H=l}if(i!==H)return{reset:{placement:H}}}return{}})()}},Ve=t=>({name:"arrow",options:t,fn:e=>(0,I.A)(function*(){const{x:n,y:o,placement:i,rects:s,platform:r,elements:l,middlewareData:a}=e,{element:f,padding:d=0}=pt(t,e)||{};if(null==f)return{};const c=Tt(d),m={x:n,y:o},u=wt(i),p=_t(u),g=yield r.getDimensions(f),h="y"===u,v=h?"top":"left",y=h?"bottom":"right",x=h?"clientHeight":"clientWidth",b=s.reference[p]+s.reference[u]-m[u]-s.floating[p],A=m[u]-s.reference[u],C=yield null==r.getOffsetParent?void 0:r.getOffsetParent(f);let P=C?C[x]:0;(!P||!(yield null==r.isElement?void 0:r.isElement(C)))&&(P=l.floating[x]||s.floating[p]);const F=b/2-A/2,S=P/2-g[p]/2-1,w=N(c[v],S),R=N(c[y],S),E=w,D=P-g[p]-R,O=P/2-g[p]/2+F,V=function Qt(t,e,n){return k(t,N(e,n))}(E,O,D),H=!a.arrow&&null!=it(i)&&O!==V&&s.reference[p]/2-(O<E?w:R)-g[p]/2<0,L=H?O<E?O-E:O-D:0;return{[u]:m[u]+L,data:{[u]:V,centerOffset:O-V-L,...H&&{alignmentOffset:L}},reset:H}})()});var Xt=Z(91974);const We=["content"];function Ge(t,e){1&t&&_.\u0275\u0275element(0,"span",4)}function Ye(t,e){1&t&&_.\u0275\u0275element(0,"span",5)}class lt{constructor(e,n,o,i){this.elementRef=e,this.ngZone=n,this.renderer=o,this.changeDetectorRef=i,this._align="bottom",this.alignmentClassPrefix="cds--popover--",this.onClose=new _.EventEmitter,this.onOpen=new _.EventEmitter,this.isOpenChange=new _.EventEmitter,this.caret=!0,this.dropShadow=!0,this.highContrast=!1,this.autoAlign=!1,this.containerClass=!0,this.isOpen=!1}set align(e){if(!e)return;const n=this._align;switch(e){case"top-left":this._align="top-start";break;case"top-right":this._align="top-end";break;case"bottom-left":this._align="bottom-start";break;case"bottom-right":this._align="bottom-end";break;case"left-top":this._align="left-start";break;case"left-bottom":this._align="left-end";break;case"right-top":this._align="right-start";break;case"right-bottom":this._align="right-end";break;default:this._align=e}this.updateAlignmentClass(this._align,n)}handleChange(e,n){if(this.isOpen!==e&&n&&this.isOpenChange.emit(e),e){if(n&&this.onOpen.emit(n),this.autoAlign){if(this.caretRef){const o=getComputedStyle(this.caretRef),i=o.getPropertyValue("--cds-popover-offset"),s=o.getPropertyValue("--cds-popover-caret-height");this.caretOffset=(i?.includes("px")?Number(i.split("px",1)[0]):16*Number(i.split("rem",1)[0]))||10,this.caretHeight=(s?.includes("px")?Number(s.split("px",1)[0]):16*Number(s.split("rem",1)[0]))||6}this.elementRef.nativeElement&&this.popoverContentRef&&(this.unmountFloatingElement=Ie(this.elementRef.nativeElement,this.popoverContentRef,this.recomputePosition.bind(this)))}}else this.cleanUp(),n&&this.onClose.emit(n);this.isOpen=e,this.changeDetectorRef.markForCheck()}roundByDPR(e){const n=window.devicePixelRatio||1;return Math.round(e*n)/n}recomputePosition(){var e=this;this.ngZone.runOutsideAngular((0,I.A)(function*(){const{x:n,y:o,placement:i,middlewareData:s}=yield((t,e,n)=>{const o=new Map,i={platform:Fe,...n},s={...i.platform,_c:o};return se(t,e,{...i,platform:s})})(e.elementRef.nativeElement,e.popoverContentRef,{placement:e._align,strategy:"fixed",middleware:[ue(e.caretOffset),Ne({fallbackAxisSideDirection:"start"}),Ve({element:e.caretRef})]}),r=e._align;if(e._align=i,e.updateAlignmentClass(e._align,r),Object.assign(e.popoverContentRef.style,{position:"fixed",top:"0",left:"0",transform:`translate(${e.roundByDPR(n)}px,${e.roundByDPR(o)}px)`}),s.arrow){const{x:l,y:a}=s.arrow,f={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]];e.caretRef.style.left=null!=l?`${l}px`:"",e.caretRef.style.top=null!=a?`${a}px`:"",e.caretRef.style.right="",e.caretRef.style.bottom="",f&&(e.caretRef.style[f]=-e.caretHeight+"px")}}))}ngOnChanges(e){const n=this.isOpen;this.handleChange(!1),e.autoAlign&&!e.autoAlign.firstChange&&(this.popoverContentRef=this.elementRef.nativeElement.querySelector(".cds--popover-content"),this.popoverContentRef.setAttribute("style",""),this.caretRef=this.elementRef.nativeElement.querySelector("span.cds--popover-caret")),this.handleChange(n)}ngAfterViewInit(){this.initializeReferences()}initializeReferences(){this.updateAlignmentClass(this._align),this.popoverContentRef=this.elementRef.nativeElement.querySelector(".cds--popover-content"),this.caretRef=this.elementRef.nativeElement.querySelector("span.cds--popover-caret"),this.handleChange(this.isOpen)}ngOnDestroy(){this.cleanUp()}cleanUp(){this.unmountFloatingElement&&this.unmountFloatingElement(),this.unmountFloatingElement=void 0}updateAlignmentClass(e,n){if(this.elementRef.nativeElement&&n!==e){const o=new RegExp("right|top|left|bottom");this.elementRef.nativeElement.classList.forEach(i=>{o.test(i)&&this.renderer.removeClass(this.elementRef.nativeElement,`${i}`)}),this.renderer.addClass(this.elementRef.nativeElement,`${this.alignmentClassPrefix}${e}`)}}}lt.\u0275fac=function(e){return new(e||lt)(_.\u0275\u0275directiveInject(_.ElementRef),_.\u0275\u0275directiveInject(_.NgZone),_.\u0275\u0275directiveInject(_.Renderer2),_.\u0275\u0275directiveInject(_.ChangeDetectorRef))},lt.\u0275dir=_.\u0275\u0275defineDirective({type:lt,selectors:[["","cdsPopover",""],["","ibmPopover",""]],hostVars:12,hostBindings:function(e,n){2&e&&_.\u0275\u0275classProp("cds--popover--caret",n.caret)("cds--popover--drop-shadow",n.dropShadow)("cds--popover--high-contrast",n.highContrast)("cds--popover--auto-align",n.autoAlign)("cds--popover-container",n.containerClass)("cds--popover--open",n.isOpen)},inputs:{align:"align",caret:"caret",dropShadow:"dropShadow",highContrast:"highContrast",autoAlign:"autoAlign",isOpen:"isOpen"},outputs:{onClose:"onClose",onOpen:"onOpen",isOpenChange:"isOpenChange"},features:[_.\u0275\u0275NgOnChangesFeature]});class ct{constructor(e){this.changeDetectorRef=e,this.popoverClass=!0,this.autoAlign=!1}ngAfterViewInit(){this.popoverContent&&(this.autoAlign=!!this.popoverContent.nativeElement.closest(".cds--popover--auto-align"),this.changeDetectorRef.detectChanges())}}ct.\u0275fac=function(e){return new(e||ct)(_.\u0275\u0275directiveInject(_.ChangeDetectorRef))},ct.\u0275cmp=_.\u0275\u0275defineComponent({type:ct,selectors:[["cds-popover-content"],["ibm-popover-content"]],viewQuery:function(e,n){if(1&e&&_.\u0275\u0275viewQuery(We,5),2&e){let o;_.\u0275\u0275queryRefresh(o=_.\u0275\u0275loadQuery())&&(n.popoverContent=o.first)}},hostVars:2,hostBindings:function(e,n){2&e&&_.\u0275\u0275classProp("cds--popover",n.popoverClass)},ngContentSelectors:["*"],decls:6,vars:2,consts:[["content",""],[1,"cds--popover-content"],["class","cds--popover-caret cds--popover--auto-align",4,"ngIf"],["class","cds--popover-caret",4,"ngIf"],[1,"cds--popover-caret","cds--popover--auto-align"],[1,"cds--popover-caret"]],template:function(e,n){1&e&&(_.\u0275\u0275projectionDef(),_.\u0275\u0275elementStart(0,"span",1,0)(2,"div"),_.\u0275\u0275projection(3),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(4,Ge,1,0,"span",2),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(5,Ye,1,0,"span",3)),2&e&&(_.\u0275\u0275advance(4),_.\u0275\u0275property("ngIf",n.autoAlign),_.\u0275\u0275advance(),_.\u0275\u0275property("ngIf",!n.autoAlign))},dependencies:[Xt.NgIf],encapsulation:2});class ot{}ot.\u0275fac=function(e){return new(e||ot)},ot.\u0275mod=_.\u0275\u0275defineNgModule({type:ot}),ot.\u0275inj=_.\u0275\u0275defineInjector({imports:[Xt.CommonModule]})},56207:(Ut,at,Z)=>{function I(ft,ut,dt,N,k,G,$){try{var T=ft[G]($),X=T.value}catch(xt){return void dt(xt)}T.done?ut(X):Promise.resolve(X).then(N,k)}function _(ft){return function(){var ut=this,dt=arguments;return new Promise(function(N,k){var G=ft.apply(ut,dt);function $(X){I(G,N,k,$,T,"next",X)}function T(X){I(G,N,k,$,T,"throw",X)}$(void 0)})}}Z.d(at,{A:()=>_})}}]);
//# sourceMappingURL=node_modules_carbon-components-angular_fesm2020_carbon-components-angular-popover_mjs.js.map