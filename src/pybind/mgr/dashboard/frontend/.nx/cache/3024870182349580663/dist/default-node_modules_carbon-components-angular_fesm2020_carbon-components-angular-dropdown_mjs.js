(self.webpackChunkceph_dashboard=self.webpackChunkceph_dashboard||[]).push([["default-node_modules_carbon-components-angular_fesm2020_carbon-components-angular-dropdown_mjs"],{24806:($,U,u)=>{var t,m,a;u.d(U,{Ay:()=>k,G1:()=>L,Je:()=>m,Y0:()=>h,yX:()=>C}),(a=m||(m={})).LEFT="left",a.RIGHT="right",a.TOP="top",a.BOTTOM="bottom";var h=((t={})[m.LEFT]=function(a,o,r){return{top:a.top-Math.round(o.offsetHeight/2)+Math.round(r.height/2),left:Math.round(a.left-o.offsetWidth)}},t[m.RIGHT]=function(a,o,r){return{top:a.top-Math.round(o.offsetHeight/2)+Math.round(r.height/2),left:Math.round(a.left+r.width)}},t[m.TOP]=function(a,o,r){return{top:Math.round(a.top-o.offsetHeight),left:a.left-Math.round(o.offsetWidth/2)+Math.round(r.width/2)}},t[m.BOTTOM]=function(a,o,r){return{top:Math.round(a.top+r.height),left:a.left-Math.round(o.offsetWidth/2)+Math.round(r.width/2)}},t),w=typeof window<"u"?window:{innerHeight:0,scrollY:0,innerWidth:0,scrollX:0},C=function(){function a(o){void 0===o&&(o={}),this.positions=h,this.positions=Object.assign({},h,o)}return a.prototype.getRelativeOffset=function(o){for(var r={left:o.offsetLeft,top:o.offsetTop};o.offsetParent&&"static"===getComputedStyle(o.offsetParent).position;)r.left+=o.offsetLeft,r.top+=o.offsetTop,o=o.offsetParent;return r},a.prototype.getAbsoluteOffset=function(o){for(var r=o,c={top:0,left:0};r.offsetParent;){var d=getComputedStyle(r.offsetParent);"static"===d.position&&d.marginLeft&&d.marginTop&&(parseInt(d.marginTop,10)&&(c.top+=parseInt(d.marginTop,10)),parseInt(d.marginLeft,10)&&(c.left+=parseInt(d.marginLeft,10))),r=r.offsetParent}var p=o.getBoundingClientRect(),f=document.body.getBoundingClientRect();return{top:p.top-f.top+c.top,left:p.left-f.left+c.left}},a.prototype.findRelative=function(o,r,c){var d=this.getRelativeOffset(o),p=o.getBoundingClientRect();return this.calculatePosition(d,p,r,c)},a.prototype.findAbsolute=function(o,r,c){var d=this.getAbsoluteOffset(o),p=o.getBoundingClientRect();return this.calculatePosition(d,p,r,c)},a.prototype.findPosition=function(o,r,c,d){void 0===d&&(d=this.getAbsoluteOffset.bind(this));var p=d(o),f=o.getBoundingClientRect();return this.calculatePosition(p,f,r,c)},a.prototype.findPositionAt=function(o,r,c){return this.calculatePosition(o,{top:0,left:0,height:0,width:0},r,c)},a.prototype.getPlacementBox=function(o,r){var c=o.offsetHeight+r.top,d=o.offsetWidth+r.left;return{top:r.top,bottom:c,left:r.left,right:d}},a.prototype.addOffset=function(o,r,c){return void 0===r&&(r=0),void 0===c&&(c=0),Object.assign({},o,{top:o.top+r,left:o.left+c})},a.prototype.setElement=function(o,r){o.style.top=r.top+"px",o.style.left=r.left+"px"},a.prototype.findBestPlacement=function(o,r,c,d,p){var f=this;void 0===d&&(d=this.defaultContainerFunction.bind(this)),void 0===p&&(p=this.findPosition.bind(this));var S=c.map(function(v){var x=p(o,r,v),g=f.getPlacementBox(r,x),I=0,D=0,E=d();g.top<E.top?I=E.top-g.top:g.bottom>E.height&&(I=g.bottom-E.height),g.left<E.left?D=E.left-g.left:g.right>E.width&&(D=g.right-E.width),I&&!D?D=1:D&&!I&&(I=1);var W=r.offsetHeight*r.offsetWidth;return{placement:v,weight:(W-I*D)/W}});return S.sort(function(v,x){return x.weight-v.weight}),S[0].placement},a.prototype.findBestPlacementAt=function(o,r,c,d){var p=this;void 0===d&&(d=this.defaultContainerFunction.bind(this));return this.findBestPlacement(null,r,c,d,function(S,v,x){return p.findPositionAt(o,v,x)})},a.prototype.defaultContainerFunction=function(){return{top:0,left:0,height:w.innerHeight,width:w.innerWidth}},a.prototype.calculatePosition=function(o,r,c,d){return this.positions[d]?this.positions[d](o,c,r):(console.error("No function found for placement, defaulting to 0,0"),{left:0,top:0})},a}(),L=new C;const k=C},11020:($,U,u)=>{u.r(U),u.d(U,{AbstractDropdownView:()=>M,Dropdown:()=>b,DropdownList:()=>y,DropdownModule:()=>P,DropdownService:()=>T,ScrollableList:()=>B});var t=u(87536),m=u(53648),h=u(95631),w=u(94274),C=u(65530),L=u(24806),k=u(28110),a=u(91974),o=u(98920),r=u(50619);const c=["dropdownButton"],d=["dropdownMenu"],f=(n,i,e,l,s,_,O,R,A,N,ve,Ie,De,Te,Ce,xe)=>({"cds--dropdown":n,"cds--multiselect":i,"cds--multi-select--selected":e,"cds--dropdown--light":l,"cds--list-box--light":s,"cds--list-box--inline":_,"cds--skeleton":O,"cds--dropdown--disabled cds--list-box--disabled":R,"cds--dropdown--readonly":A,"cds--dropdown--invalid":N,"cds--dropdown--warning cds--list-box--warning":ve,"cds--dropdown--sm cds--list-box--sm":Ie,"cds--dropdown--md cds--list-box--md":De,"cds--dropdown--lg cds--list-box--lg":Te,"cds--list-box--expanded":Ce,"cds--list-box--invalid":xe}),S=n=>({a:n}),v=n=>({"cds--list-box--up":n}),x=(n,i)=>({"cds--label--disabled":n,"cds--visually-hidden":i}),g=n=>({"cds--list-box__menu-icon--open":n}),I=n=>({"cds--form__helper-text--disabled":n});function D(n,i){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(e.label)}}function E(n,i){}function W(n,i){if(1&n&&t.\u0275\u0275template(0,E,0,0,"ng-template",17),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngTemplateOutlet",e.label)}}function K(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"label",16),t.\u0275\u0275template(1,D,2,1,"ng-container",7)(2,W,1,1,null,7),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("for",e.id)("ngClass",t.\u0275\u0275pureFunction2(4,x,e.disabled,e.hideLabel)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!e.isTemplate(e.label)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.isTemplate(e.label))}}function V(n,i){1&n&&t.\u0275\u0275element(0,"div",18)}function F(n,i){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.clearSelected())})("keydown.enter",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.clearSelected())}),t.\u0275\u0275text(1),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",20),t.\u0275\u0275element(3,"path",21),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("title",e.clearText),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",e.getSelectedCount()," ")}}function z(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"span",18),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,e.getDisplayStringValue()))}}function j(n,i){}function Q(n,i){if(1&n&&t.\u0275\u0275template(0,j,0,0,"ng-template",22),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngTemplateOutletContext",e.getRenderTemplateContext())("ngTemplateOutlet",e.displayValue)}}function G(n,i){if(1&n&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"svg",23)),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(2,g,!e.menuIsClosed)),t.\u0275\u0275attribute("aria-label",e.menuButtonLabel)}}function J(n,i){1&n&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"svg",24))}function Y(n,i){1&n&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"svg",25))}function X(n,i){1&n&&t.\u0275\u0275projection(0,0,["*ngIf","!menuIsClosed"])}function q(n,i){1&n&&t.\u0275\u0275element(0,"hr",26)}function Z(n,i){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(e.helperText)}}function ee(n,i){}function te(n,i){if(1&n&&t.\u0275\u0275template(0,ee,0,0,"ng-template",17),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngTemplateOutlet",e.helperText)}}function ie(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"div",27),t.\u0275\u0275template(1,Z,2,1,"ng-container",7)(2,te,1,1,null,7),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(3,I,e.disabled)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!e.isTemplate(e.helperText)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.isTemplate(e.helperText))}}function ne(n,i){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(e.invalidText)}}function se(n,i){}function le(n,i){if(1&n&&t.\u0275\u0275template(0,se,0,0,"ng-template",17),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngTemplateOutlet",e.invalidText)}}function oe(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"div",28),t.\u0275\u0275template(1,ne,2,1,"ng-container",7)(2,le,1,1,null,7),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!e.isTemplate(e.invalidText)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.isTemplate(e.invalidText))}}function re(n,i){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(e.warnText)}}function ae(n,i){}function de(n,i){if(1&n&&t.\u0275\u0275template(0,ae,0,0,"ng-template",17),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngTemplateOutlet",e.warnText)}}function ce(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"div",28),t.\u0275\u0275template(1,re,2,1,"ng-container",7)(2,de,1,1,null,7),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!e.isTemplate(e.warnText)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.isTemplate(e.warnText))}}const _e=["list"],pe=["listItem"],ue=(n,i)=>({"cds--list-box__menu-item--active":n,"cds--list-box__menu-item--highlighted":i}),he=n=>({item:n});function me(n,i){if(1&n&&(t.\u0275\u0275elementStart(0,"div",9)(1,"label",10),t.\u0275\u0275element(2,"input",11)(3,"span",12),t.\u0275\u0275elementStart(4,"span",13),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(),t.\u0275\u0275attribute("data-contained-checkbox-state",e.selected),t.\u0275\u0275advance(),t.\u0275\u0275property("checked",e.selected)("disabled",e.disabled),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.content)}}function fe(n,i){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(e.content)}}function ge(n,i){1&n&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"svg",14))}function Ee(n,i){}function we(n,i){if(1&n&&t.\u0275\u0275template(0,Ee,0,0,"ng-template",15),2&n){const e=t.\u0275\u0275nextContext().$implicit,l=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,he,e))("ngTemplateOutlet",l.listTpl)}}function be(n,i){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",4),t.\u0275\u0275listener("click",function(s){const _=t.\u0275\u0275restoreView(e).$implicit,O=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(O.doClick(s,_))}),t.\u0275\u0275elementStart(1,"div",5,1),t.\u0275\u0275template(3,me,6,4,"div",6)(4,fe,2,1,"ng-container",7)(5,ge,1,0,"svg",8)(6,we,1,4,null,7),t.\u0275\u0275elementEnd()()}if(2&n){const e=i.$implicit,l=i.index,s=t.\u0275\u0275nextContext();t.\u0275\u0275property("id",s.getItemId(l))("ngClass",t.\u0275\u0275pureFunction2(9,ue,e.selected,s.highlightedItem===s.getItemId(l))),t.\u0275\u0275attribute("aria-selected",e.selected)("title",s.showTitles?e.content:null)("disabled",!!e.disabled||null),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!s.listTpl&&"multi"===s.type),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!s.listTpl&&"single"===s.type),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!s.listTpl&&"single"===s.type),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",s.listTpl)}}class M{constructor(){this.type="single",this.size="md"}set items(i){}get items(){}getNextItem(){}hasNextElement(){}getNextElement(){}getPrevItem(){}hasPrevElement(){}getPrevElement(){}getSelected(){}getCurrentItem(){}getCurrentElement(){}getListItems(){}propagateSelected(i){}filterBy(i){}initFocus(){}onItemsReady(i){}reorderSelected(i){}}M.\u0275fac=function(i){return new(i||M)},M.\u0275dir=t.\u0275\u0275defineDirective({type:M,selectors:[["","cdsAbstractDropdownView",""],["","ibmAbstractDropdownView",""]],inputs:{items:"items"},outputs:{select:"select",blurIntent:"blurIntent"}});const H={top:0,left:0};class T{constructor(i,e){this.placeholderService=i,this.animationFrameService=e,this.animationFrameSubscription=new h.Subscription,this._offset=H}set offset(i){this._offset=Object.assign({},H,i)}get offset(){return this._offset}appendToBody(i,e,l){e.style.display="block";const s=document.createElement("div");return s.className=`dropdown ${l}`,s.style.width=i.offsetWidth+"px",s.style.position="absolute",s.appendChild(e),this.placeholderService.hasPlaceholderRef()?this.placeholderService.appendElement(s):document.body.appendChild(s),this.menuInstance=s,this.animationFrameSubscription=this.animationFrameService.tick.subscribe(()=>{this.positionDropdown(i,s)}),this.positionDropdown(i,s),s}appendToDropdown(i){if(!this.menuInstance)return;const e=this.menuInstance,l=e.firstElementChild;return this.menuInstance=null,l.style.display="none",i.appendChild(l),this.animationFrameSubscription.unsubscribe(),this.placeholderService.hasPlaceholderRef()&&this.placeholderService.hasElement(e)?this.placeholderService.removeElement(e):document.body.contains(e)&&document.body.removeChild(e),e}updatePosition(i){this.positionDropdown(i,this.menuInstance)}ngOnDestroy(){this.animationFrameSubscription.unsubscribe()}positionDropdown(i,e){if(!e)return;let l=0;const s=e.querySelector(".cds--list-box__menu");s&&(i.getBoundingClientRect().left!==s.getBoundingClientRect().left?i.getBoundingClientRect().left-s.getBoundingClientRect().left+s.getBoundingClientRect().right>(window.innerWidth||document.documentElement.clientWidth)&&(l=i.offsetWidth-s.offsetWidth):s.getBoundingClientRect().right>(window.innerWidth||document.documentElement.clientWidth)&&(l=i.offsetWidth-s.offsetWidth));const _=(0,w.closestAttr)("position",["relative","fixed","absolute"],e.parentElement),O=_?-1*_.getBoundingClientRect().top:this.offset.top,R=_?-1*_.getBoundingClientRect().left:this.offset.left+l;let A=L.G1.findAbsolute(i,e,"bottom");A=L.G1.addOffset(A,O,R),L.G1.setElement(e,A)}}T.\u0275fac=function(i){return new(i||T)(t.\u0275\u0275inject(k.PlaceholderService),t.\u0275\u0275inject(w.AnimationFrameService))},T.\u0275prov=t.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac});class b{constructor(i,e,l,s){this.elementRef=i,this.i18n=e,this.dropdownService=l,this.elementService=s,this.id="dropdown-"+b.dropdownCount++,this.hideLabel=!1,this.placeholder="",this.displayValue="",this.clearText=this.i18n.get().DROPDOWN.CLEAR,this.size="md",this.type="single",this.theme="dark",this.disabled=!1,this.readonly=!1,this.skeleton=!1,this.inline=!1,this.disableArrowKeys=!1,this.invalid=!1,this.warn=!1,this.appendInline=null,this.selectionFeedback="top-after-reopen",this.menuButtonLabel=this.i18n.get().DROPDOWN.OPEN,this.selectedLabel=this.i18n.get().DROPDOWN.SELECTED,this.selected=new t.EventEmitter,this.onClose=new t.EventEmitter,this.close=new t.EventEmitter,this.hostClass=!0,this.hostWrapperClass=!0,this.fluid=!1,this.menuIsClosed=!0,this._dropUp=!1,this.noop=this._noop.bind(this),this.outsideClick=this._outsideClick.bind(this),this.outsideKey=this._outsideKey.bind(this),this.keyboardNav=this._keyboardNav.bind(this),this.visibilitySubscription=new h.Subscription,this.onTouchedCallback=this._noop,this._isFocused=!1,this._writtenValue=[],this.propagateChange=_=>{}}get fluidInvalidClass(){return this.invalid&&this.fluid}get fluidFocusClass(){return this.fluid&&this._isFocused&&this.menuIsClosed}get writtenValue(){return this._writtenValue}set writtenValue(i){i&&0===i.length&&this.clearSelected(),this._writtenValue=i}ngOnInit(){this.view&&(this.view.type=this.type)}ngAfterContentInit(){if(!this.view)return;(this.writtenValue&&this.writtenValue.length||"number"==typeof this.writtenValue)&&this.writeValue(this.writtenValue),this.view.type=this.type,this.view.size=this.size;const i=e=>e&&e.isUpdate;this.view.select.subscribe(e=>{if("single"===this.type&&!i(e)&&!Array.isArray(e)&&(this.closeMenu(),e.item&&e.item.selected?this.itemValueKey?this.propagateChange(e.item[this.itemValueKey]):this.propagateChange(e.item):this.propagateChange(null)),"multi"===this.type&&!i(e))if(this.itemValueKey&&this.view.getSelected()){const l=this.view.getSelected().map(s=>s[this.itemValueKey]);this.propagateChange(l)}else this.propagateChange(this.view.getSelected());i(e)||(this.checkForReorder(),this.selected.emit(e))})}ngAfterViewInit(){null===this.appendInline&&(0,w.hasScrollableParents)(this.elementRef.nativeElement)?this.appendInline=!1:null===this.appendInline&&(this.appendInline=!0),this.checkForReorder()}ngOnDestroy(){this.appendInline||this._appendToDropdown()}writeValue(i){this.writtenValue=i,this.view.onItemsReady(()=>{if(i)if("single"===this.type)if(this.itemValueKey){const e=Object.assign({},this.view.getListItems().find(l=>l[this.itemValueKey]===i));e.selected=!0,this.view.propagateSelected([e])}else this.view.propagateSelected([i]);else if(this.itemValueKey){let e=[];for(const l of i)for(const s of this.view.getListItems())s[this.itemValueKey]===l&&e.push(Object.assign({},s,{selected:!0}));this.view.propagateSelected(e)}else this.view.propagateSelected(i);else this.view.propagateSelected([i]);this.checkForReorder()})}onBlur(){this.onTouchedCallback()}registerOnChange(i){this.propagateChange=i}registerOnTouched(i){this.onTouchedCallback=i}setDisabledState(i){this.disabled=i}onKeyDown(i){if(!this.readonly){if("Escape"===i.key&&!this.menuIsClosed&&i.stopImmediatePropagation(),"Escape"===i.key)i.preventDefault(),this.closeMenu(),this.dropdownButton.nativeElement.focus();else if(this.menuIsClosed&&(" "===i.key||"ArrowDown"===i.key||"ArrowUp"===i.key)){if(this.disableArrowKeys&&("ArrowDown"===i.key||"ArrowUp"===i.key))return;i.preventDefault(),this.openMenu()}!this.menuIsClosed&&"Tab"===i.key&&this.dropdownMenu.nativeElement.contains(i.target)&&this.closeMenu(),!this.menuIsClosed&&"Tab"===i.key&&i.shiftKey&&this.closeMenu(),"multi"!==this.type&&this.menuIsClosed&&this.closedDropdownNavigation(i)}}closedDropdownNavigation(i){if("ArrowDown"===i.key){i.preventDefault(),this.view.getCurrentItem().selected=!1;let e=this.view.getNextItem();e&&(e.selected=!0)}else if("ArrowUp"===i.key){i.preventDefault(),this.view.getCurrentItem().selected=!1;let e=this.view.getPrevItem();e&&(e.selected=!0)}}getDisplayStringValue(){if(!this.view||this.skeleton)return;let i=this.view.getSelected();return!i.length||this.displayValue&&this.isRenderString()?i.length&&this.isRenderString()?(0,h.of)(this.displayValue):(0,h.of)(this.placeholder):"multi"===this.type?(0,h.of)(this.placeholder):(0,h.of)(i[0].content)}isRenderString(){return"string"==typeof this.displayValue}getRenderTemplateContext(){if(!this.view)return;let i=this.view.getSelected();return"multi"===this.type?{items:i}:i&&i.length>0?{item:i[0]}:{}}getSelectedCount(){if(this.view.getSelected())return this.view.getSelected().length}clearSelected(){if(!this.disabled&&0!==this.getSelectedCount()){for(const i of this.view.getListItems())i.selected=!1;this.selected.emit([]),this.propagateChange([])}}valueSelected(){return!!this.view.getSelected()}_noop(){}_outsideClick(i){!this.elementRef.nativeElement.contains(i.target)&&!this.dropdownMenu.nativeElement.contains(i.target)&&this.closeMenu()}_outsideKey(i){!this.menuIsClosed&&"Tab"===i.key&&this.dropdownMenu.nativeElement.contains(i.target)&&this.closeMenu()}_keyboardNav(i){"Escape"===i.key&&!this.menuIsClosed&&i.stopImmediatePropagation(),"Escape"===i.key?(i.preventDefault(),this.closeMenu(),this.dropdownButton.nativeElement.focus()):!this.menuIsClosed&&"Tab"===i.key&&(this.dropdownButton.nativeElement.focus(),this.dropdownButton.nativeElement.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Tab"})),this.closeMenu())}_appendToDropdown(){this.dropdownService.appendToDropdown(this.elementRef.nativeElement),this.dropdownMenu.nativeElement.removeEventListener("keydown",this.keyboardNav,!0)}_appendToBody(){const i="light"===this.theme?" cds--list-box--light":"",e=this.menuIsClosed?"":" cds--list-box--expanded";this.dropdownService.appendToBody(this.dropdownButton.nativeElement,this.dropdownMenu.nativeElement,`${this.elementRef.nativeElement.className}${i}${e}`),this.dropdownMenu.nativeElement.addEventListener("keydown",this.keyboardNav,!0)}_shouldDropUp(){const i=this.dropdownMenu&&this.dropdownMenu.nativeElement.querySelector(".cds--list-box__menu"),e=i&&i.getBoundingClientRect();return!(!i||!e)&&(0,w.getScrollableParents)(i).reduce((s,_)=>{const O=_.getBoundingClientRect(),R=!(e.bottom<=O.bottom);return s||R},!1)}openMenu(){if(0!==this.view.getListItems().length){if(this._dropUp=!1,this.menuIsClosed=!1,!this.appendInline){const i=this.dropdownButton.nativeElement,e=this.elementRef.nativeElement;this.visibilitySubscription=this.elementService.visibility(i,e).subscribe(l=>{l.visible||this.closeMenu()}),this._appendToBody()}setTimeout(()=>{(null===this.dropUp||void 0===this.dropUp)&&(this._dropUp=this._shouldDropUp())},0),document.body.firstElementChild.addEventListener("click",this.noop,!0),document.body.firstElementChild.addEventListener("keydown",this.noop,!0),document.addEventListener("click",this.outsideClick,!0),document.addEventListener("keydown",this.outsideKey,!0),setTimeout(()=>this.view.initFocus(),0)}}closeMenu(){this.menuIsClosed||(this.menuIsClosed=!0,this.checkForReorder(),this.onClose.emit(),this.close.emit(),this.dropdownButton.nativeElement.focus(),this.view.disableScroll&&this.view.disableScroll(),this.appendInline||(this.visibilitySubscription.unsubscribe(),this._appendToDropdown()),document.body.firstElementChild.removeEventListener("click",this.noop,!0),document.body.firstElementChild.removeEventListener("keydown",this.noop,!0),document.removeEventListener("click",this.outsideClick,!0),document.removeEventListener("keydown",this.outsideKey,!0))}toggleMenu(){this.menuIsClosed?this.openMenu():this.closeMenu()}isTemplate(i){return i instanceof t.TemplateRef}handleFocus(i){this._isFocused="focus"===i.type,"blur"===i.type&&this.onBlur()}checkForReorder(){const i=this.menuIsClosed&&"top-after-reopen"===this.selectionFeedback;"multi"===this.type&&(i||"top"===this.selectionFeedback)&&this.view.reorderSelected()}}b.dropdownCount=0,b.\u0275fac=function(i){return new(i||b)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(C.I18n),t.\u0275\u0275directiveInject(T),t.\u0275\u0275directiveInject(w.ElementService))},b.\u0275cmp=t.\u0275\u0275defineComponent({type:b,selectors:[["cds-dropdown"],["ibm-dropdown"]],contentQueries:function(i,e,l){if(1&i&&t.\u0275\u0275contentQuery(l,M,7),2&i){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(e.view=s.first)}},viewQuery:function(i,e){if(1&i&&(t.\u0275\u0275viewQuery(c,7),t.\u0275\u0275viewQuery(d,7)),2&i){let l;t.\u0275\u0275queryRefresh(l=t.\u0275\u0275loadQuery())&&(e.dropdownButton=l.first),t.\u0275\u0275queryRefresh(l=t.\u0275\u0275loadQuery())&&(e.dropdownMenu=l.first)}},hostVars:10,hostBindings:function(i,e){1&i&&t.\u0275\u0275listener("keydown",function(s){return e.onKeyDown(s)}),2&i&&t.\u0275\u0275classProp("cds--list-box__wrapper--fluid--invalid",e.fluidInvalidClass)("cds--list-box__wrapper--fluid--focus",e.fluidFocusClass)("cds--dropdown__wrapper",e.hostClass)("cds--list-box__wrapper",e.hostWrapperClass)("cds--list-box__wrapper--fluid",e.fluid)},inputs:{id:"id",label:"label",hideLabel:"hideLabel",helperText:"helperText",placeholder:"placeholder",displayValue:"displayValue",clearText:"clearText",size:"size",type:"type",theme:"theme",disabled:"disabled",readonly:"readonly",skeleton:"skeleton",inline:"inline",disableArrowKeys:"disableArrowKeys",invalid:"invalid",invalidText:"invalidText",warn:"warn",warnText:"warnText",appendInline:"appendInline",scrollableContainer:"scrollableContainer",itemValueKey:"itemValueKey",selectionFeedback:"selectionFeedback",menuButtonLabel:"menuButtonLabel",selectedLabel:"selectedLabel",dropUp:"dropUp",fluid:"fluid"},outputs:{selected:"selected",onClose:"onClose",close:"close"},features:[t.\u0275\u0275ProvidersFeature([{provide:m.NG_VALUE_ACCESSOR,useExisting:b,multi:!0}])],ngContentSelectors:["*"],decls:19,vars:43,consts:[["dropdownButton",""],["dropdownMenu",""],["class","cds--label",3,"for","ngClass",4,"ngIf"],[1,"cds--list-box",3,"ngClass"],["class","cds--list-box__label",4,"ngIf"],["type","button","aria-haspopup","listbox",1,"cds--list-box__field",3,"click","focus","blur","id","ngClass"],["class","cds--list-box__selection cds--tag--filter cds--list-box__selection--multi","tabindex","0",3,"title","click","keydown.enter",4,"ngIf"],[4,"ngIf"],[1,"cds--list-box__menu-icon"],["cdsIcon","chevron--down","size","16",3,"ngClass",4,"ngIf"],["class","cds--list-box__invalid-icon","cdsIcon","warning--filled","size","16",4,"ngIf"],["cdsIcon","warning--alt--filled","size","16","class","cds--list-box__invalid-icon cds--list-box__invalid-icon--warning",4,"ngIf"],[3,"ngClass"],["class","cds--list-box__divider",4,"ngIf"],["class","cds--form__helper-text",3,"ngClass",4,"ngIf"],["class","cds--form-requirement",4,"ngIf"],[1,"cds--label",3,"for","ngClass"],[3,"ngTemplateOutlet"],[1,"cds--list-box__label"],["tabindex","0",1,"cds--list-box__selection","cds--tag--filter","cds--list-box__selection--multi",3,"click","keydown.enter","title"],["focusable","false","preserveAspectRatio","xMidYMid meet","role","img","xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 16 16","aria-hidden","true",2,"will-change","transform"],["d","M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],["cdsIcon","chevron--down","size","16",3,"ngClass"],["cdsIcon","warning--filled","size","16",1,"cds--list-box__invalid-icon"],["cdsIcon","warning--alt--filled","size","16",1,"cds--list-box__invalid-icon","cds--list-box__invalid-icon--warning"],[1,"cds--list-box__divider"],[1,"cds--form__helper-text",3,"ngClass"],[1,"cds--form-requirement"]],template:function(i,e){if(1&i){const l=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,K,3,7,"label",2),t.\u0275\u0275elementStart(1,"div",3),t.\u0275\u0275template(2,V,1,0,"div",4),t.\u0275\u0275elementStart(3,"button",5,0),t.\u0275\u0275listener("click",function(_){return t.\u0275\u0275restoreView(l),t.\u0275\u0275resetView(e.disabled||e.readonly?_.stopPropagation():e.toggleMenu())})("focus",function(_){return t.\u0275\u0275restoreView(l),t.\u0275\u0275resetView(e.fluid?e.handleFocus(_):null)})("blur",function(_){return t.\u0275\u0275restoreView(l),t.\u0275\u0275resetView(e.fluid?e.handleFocus(_):e.onBlur())}),t.\u0275\u0275template(5,F,4,2,"div",6)(6,z,3,3,"span",4)(7,Q,1,2,null,7),t.\u0275\u0275elementStart(8,"span",8),t.\u0275\u0275template(9,G,1,4,"svg",9),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(10,J,1,0,"svg",10)(11,Y,1,0,"svg",11),t.\u0275\u0275elementStart(12,"div",12,1),t.\u0275\u0275template(14,X,1,0,"ng-content",7),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(15,q,1,0,"hr",13)(16,ie,3,5,"div",14)(17,oe,3,2,"div",15)(18,ce,3,2,"div",15)}2&i&&(t.\u0275\u0275property("ngIf",e.label&&!e.skeleton),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunctionV(22,f,["multi"!==e.type&&!(e.skeleton&&e.fluid),"multi"===e.type,"multi"===e.type&&e.getSelectedCount()>0,"light"===e.theme,"light"===e.theme,e.inline,e.skeleton,e.disabled,e.readonly,e.invalid,e.warn,"sm"===e.size,"md"===e.size,"lg"===e.size,!e.menuIsClosed,e.invalid])),t.\u0275\u0275attribute("data-invalid",!!e.invalid||null),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.skeleton&&e.fluid),t.\u0275\u0275advance(),t.\u0275\u0275property("id",e.id)("ngClass",t.\u0275\u0275pureFunction1(39,S,!e.menuIsClosed)),t.\u0275\u0275attribute("aria-expanded",!e.menuIsClosed)("aria-disabled",e.disabled)("aria-readonly",e.readonly)("disabled",!!e.disabled||null),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","multi"===e.type&&e.getSelectedCount()>0),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.isRenderString()),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!e.isRenderString()),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.skeleton),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.invalid),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!e.invalid&&e.warn),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(41,v,null!==e.dropUp&&void 0!==e.dropUp?e.dropUp:e._dropUp)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.menuIsClosed),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.fluid),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.helperText&&!e.invalid&&!e.warn&&!e.skeleton&&!e.fluid),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.invalid),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!e.invalid&&e.warn))},dependencies:[a.NgClass,a.NgIf,a.NgTemplateOutlet,o.IconDirective,a.AsyncPipe],encapsulation:2});class y{constructor(i,e,l){this.elementRef=i,this.i18n=e,this.appRef=l,this.ariaLabel=this.i18n.get().DROPDOWN_LIST.LABEL,this.listTpl=null,this.select=new t.EventEmitter,this.scroll=new t.EventEmitter,this.blurIntent=new t.EventEmitter,this.type="single",this.showTitles=!0,this.size="md",this.listId="listbox-"+y.listCount++,this.highlightedItem=null,this.displayItems=[],this.index=-1,this._items=[]}set items(i){(0,h.isObservable)(i)?(this._itemsSubscription&&this._itemsSubscription.unsubscribe(),this._itemsReady=new h.Observable(e=>{this._itemsSubscription=i.subscribe(l=>{this.updateList(l),e.next(!0),e.complete()})}),this.onItemsReady(null)):this.updateList(i),this._originalItems=i}get items(){return this._originalItems}ngAfterViewInit(){this.index=this.getListItems().findIndex(i=>i.selected),this.setupFocusObservable(),setTimeout(()=>{this.doEmitSelect(!0)})}ngOnDestroy(){this.focusJump&&this.focusJump.unsubscribe(),this._itemsSubscription&&this._itemsSubscription.unsubscribe()}doEmitSelect(i=!0){if("single"===this.type)this.select.emit({item:this._items.find(e=>e.selected),isUpdate:i});else{const e=this.getSelected()||[];e.isUpdate=i,this.select.emit(e)}}getItemId(i){return`${this.listId}-${i}`}updateList(i){this._items=i.map(e=>Object.assign({},e)),this.displayItems=this._items,this.updateIndex(),this.setupFocusObservable(),this.doEmitSelect()}filterBy(i=""){i?(this.displayItems=this.getListItems().filter(e=>e.content.toLowerCase().includes(i.toLowerCase())),this.displayItems&&(this.index=0)):this.displayItems=this.getListItems(),this.updateIndex()}setupFocusObservable(){if(!this.list)return;this.focusJump&&this.focusJump.unsubscribe();let i=Array.from(this.list.nativeElement.querySelectorAll("li"));this.focusJump=function ye(n,i){return(0,h.fromEvent)(n,"keydown").pipe((0,r.debounceTime)(150),(0,r.map)(e=>{let l=i.find(s=>s.textContent.trim().toLowerCase().startsWith(e.key));if(l)return l}),(0,r.filter)(e=>!!e))}(this.list.nativeElement,i).subscribe(e=>{e.focus()})}getNextItem(){return this.index<this.displayItems.length-1&&this.index++,this.displayItems[this.index]}hasNextElement(){return this.index<this.displayItems.length-1&&(this.index!==this.displayItems.length-2||!this.displayItems[this.index+1].disabled)}getNextElement(){const i=this.listElementList?this.listElementList.toArray():[];if(!i.length)return null;for(let e=this.index+1;e<i.length;e++)if(!this.displayItems[e].disabled)return this.index=e,i[e].nativeElement;return i[this.index]?.nativeElement}getPrevItem(){return this.index>0&&this.index--,this.displayItems[this.index]}hasPrevElement(){return this.index>0&&(1!==this.index||!this.displayItems[0].disabled)}getPrevElement(){const i=this.listElementList?this.listElementList.toArray():[];if(!i.length)return null;for(let e=this.index-1;e<this.index&&e>=0;e--)if(!this.displayItems[e].disabled)return this.index=e,i[e].nativeElement;return i[this.index].nativeElement}getCurrentItem(){return this.index<0?this.displayItems[0]:this.displayItems[this.index]}getCurrentElement(){return this.index<0?this.listElementList.first.nativeElement:this.listElementList.toArray()[this.index].nativeElement}getListItems(){return this._items}getSelected(){let i=this.getListItems().filter(e=>e.selected);return 0===i.length?[]:i}propagateSelected(i){Array.isArray(i)||console.error(`${this.constructor.name}.propagateSelected expects an Array<ListItem>, got ${JSON.stringify(i)}`),this.onItemsReady(()=>{const e=[];for(let l of i)if(l&&l.selected){let s=Object.assign({},l);delete s.selected,s=JSON.stringify(s),e.push(s)}for(let l of this.getListItems()){if(0===e.length){l.selected=!1;continue}let s=Object.assign({},l);delete s.selected,s=JSON.stringify(s);for(let _ of e){if(s.includes(_)){l.selected=!0;break}l.selected=!1}}})}initFocus(){this.index<0&&this.updateIndex(),this.list.nativeElement.focus(),setTimeout(()=>{this.highlightedItem=this.getItemId(this.index)})}updateIndex(){const i=this.getSelected();i.length?this.index=this.displayItems.indexOf(i[0]):this.hasNextElement()&&this.getNextElement()}navigateList(i){"Enter"===i.key||" "===i.key?(this.listElementList.some(e=>e.nativeElement===i.target)&&i.preventDefault(),"Enter"===i.key&&this.doClick(i,this.getCurrentItem())):("ArrowDown"===i.key||"ArrowUp"===i.key)&&(i.preventDefault(),"ArrowDown"===i.key?this.hasNextElement()?this.getNextElement()?.scrollIntoView({block:"end"}):this.blurIntent.emit("bottom"):"ArrowUp"===i.key&&(this.hasPrevElement()?this.getPrevElement().scrollIntoView({block:"nearest"}):this.blurIntent.emit("top")),setTimeout(()=>{this.highlightedItem=this.getItemId(this.index)}))}doClick(i,e){if(i.preventDefault(),e&&!e.disabled){if(this.list.nativeElement.focus(),"single"===this.type){e.selected=!0;for(let l of this.getListItems())e!==l&&(l.selected=!1)}else e.selected=!e.selected;this.index=this.displayItems.indexOf(e),this.highlightedItem=this.getItemId(this.index),this.doEmitSelect(!1),this.appRef.tick()}}onItemFocus(i){const e=this.listElementList.toArray()[i].nativeElement;e.classList.add("cds--list-box__menu-item--highlighted"),e.tabIndex=0}onItemBlur(i){const e=this.listElementList.toArray()[i].nativeElement;e.classList.remove("cds--list-box__menu-item--highlighted"),e.tabIndex=-1}emitScroll(i){const s={atTop:0===i.srcElement.scrollTop,atBottom:i.srcElement.scrollHeight-i.srcElement.scrollTop===i.srcElement.clientHeight,event:i};this.scroll.emit(s)}onItemsReady(i){(this._itemsReady||(0,h.of)(!0)).pipe((0,r.first)()).subscribe(i)}reorderSelected(i=!0){this.displayItems=[...this.getSelected(),...this.getListItems().filter(e=>!e.selected)],i&&setTimeout(()=>{this.updateIndex(),this.highlightedItem=this.getItemId(this.index)})}}y.listCount=0,y.\u0275fac=function(i){return new(i||y)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(C.I18n),t.\u0275\u0275directiveInject(t.ApplicationRef))},y.\u0275cmp=t.\u0275\u0275defineComponent({type:y,selectors:[["cds-dropdown-list"],["ibm-dropdown-list"]],viewQuery:function(i,e){if(1&i&&(t.\u0275\u0275viewQuery(_e,7),t.\u0275\u0275viewQuery(pe,5)),2&i){let l;t.\u0275\u0275queryRefresh(l=t.\u0275\u0275loadQuery())&&(e.list=l.first),t.\u0275\u0275queryRefresh(l=t.\u0275\u0275loadQuery())&&(e.listElementList=l)}},inputs:{ariaLabel:"ariaLabel",items:"items",listTpl:"listTpl",type:"type",showTitles:"showTitles"},outputs:{select:"select",scroll:"scroll",blurIntent:"blurIntent"},features:[t.\u0275\u0275ProvidersFeature([{provide:M,useExisting:y}])],decls:3,vars:4,consts:[["list",""],["listItem",""],["role","listbox","tabindex","-1",1,"cds--list-box__menu","cds--multi-select",3,"scroll","keydown","id"],["role","option","class","cds--list-box__menu-item",3,"id","ngClass","click",4,"ngFor","ngForOf"],["role","option",1,"cds--list-box__menu-item",3,"click","id","ngClass"],["tabindex","-1",1,"cds--list-box__menu-item__option"],["class","cds--form-item cds--checkbox-wrapper",4,"ngIf"],[4,"ngIf"],["cdsIcon","checkmark","size","16","class","cds--list-box__menu-item__selected-icon",4,"ngIf"],[1,"cds--form-item","cds--checkbox-wrapper"],[1,"cds--checkbox-label"],["type","checkbox","tabindex","-1",1,"cds--checkbox",3,"checked","disabled"],[1,"cds--checkbox-appearance"],[1,"cds--checkbox-label-text"],["cdsIcon","checkmark","size","16",1,"cds--list-box__menu-item__selected-icon"],[3,"ngTemplateOutletContext","ngTemplateOutlet"]],template:function(i,e){if(1&i){const l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ul",2,0),t.\u0275\u0275listener("scroll",function(_){return t.\u0275\u0275restoreView(l),t.\u0275\u0275resetView(e.emitScroll(_))})("keydown",function(_){return t.\u0275\u0275restoreView(l),t.\u0275\u0275resetView(e.navigateList(_))}),t.\u0275\u0275template(2,be,7,12,"li",3),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275property("id",e.listId),t.\u0275\u0275attribute("aria-label",e.ariaLabel)("aria-activedescendant",e.highlightedItem),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.displayItems))},dependencies:[a.NgClass,a.NgForOf,a.NgIf,a.NgTemplateOutlet,o.IconDirective],encapsulation:2});class B{constructor(i){this.elementRef=i,this.nScrollableList=null,this.scrollEnabled=!0,this.scrollBy=10,this.canScrollUp=!1,this.canScrollDown=!1,this.list=this.elementRef.nativeElement}ngOnChanges(i){i.scrollEnabled&&(i.scrollEnabled.currentValue?(this.list.style.overflow="hidden",this.scrollUpTarget.style.display="flex",this.scrollDownTarget.style.display="flex",this.canScrollUp=!0,this.canScrollDown=!0,this.updateScrollHeight(),this.checkScrollArrows(),setTimeout(()=>{this.checkScrollArrows()})):(this.scrollUpTarget.style.display="none",this.scrollDownTarget.style.display="none",this.canScrollUp=!1,this.canScrollDown=!1,this.list.style.height=null,this.list.style.overflow=null,clearInterval(this.hoverScrollInterval)))}ngAfterViewInit(){this.nScrollableList&&(this.list=this.elementRef.nativeElement.querySelector(this.nScrollableList)),this.scrollUpTarget.addEventListener("mouseover",()=>this.onHoverUp(!0)),this.scrollUpTarget.addEventListener("mouseout",()=>this.onHoverUp(!1)),this.scrollDownTarget.addEventListener("mouseover",()=>this.onHoverDown(!0)),this.scrollDownTarget.addEventListener("mouseout",()=>this.onHoverDown(!1))}updateScrollHeight(){if(this.scrollEnabled){const e=this.elementRef.nativeElement.parentElement.getBoundingClientRect(),l=this.list.getBoundingClientRect().top-e.top,_=e.height-(e.bottom-window.innerHeight)-l-40;this.list.style.height=`${_}px`}}checkScrollArrows(){const i=this.scrollUpTarget.offsetHeight,e=this.scrollDownTarget.offsetHeight;0===this.list.scrollTop?(this.canScrollUp&&(this.list.style.height=`${parseInt(this.list.style.height,10)+i}px`),this.scrollUpTarget.style.display="none",this.canScrollUp=!1):this.list.scrollTop===this.list.scrollTopMax?(this.canScrollDown&&(this.list.style.height=`${parseInt(this.list.style.height,10)+e}px`),this.scrollDownTarget.style.display="none",this.canScrollDown=!1):(this.canScrollUp||(this.list.style.height=parseInt(this.list.style.height,10)-i+"px"),this.canScrollDown||(this.list.style.height=parseInt(this.list.style.height,10)-e+"px"),this.scrollUpTarget.style.display="flex",this.scrollDownTarget.style.display="flex",this.canScrollUp=!0,this.canScrollDown=!0)}onWheel(i){i.deltaY<0?this.list.scrollTop-=this.scrollBy:this.list.scrollTop+=this.scrollBy,this.list.scrollTop===this.list.scrollTopMax||0===this.list.scrollTop||(i.preventDefault(),i.stopPropagation()),this.checkScrollArrows()}onTouchStart(i){i.touches[0]&&(this.lastTouch=i.touches[0].clientY)}onTouchMove(i){if(i.preventDefault(),i.stopPropagation(),i.touches[0]){const e=i.touches[0];this.list.scrollTop+=this.lastTouch-e.clientY,this.lastTouch=e.clientY,this.checkScrollArrows()}}hoverScrollBy(i,e){i?this.hoverScrollInterval=setInterval(()=>{this.list.scrollTop+=e,this.checkScrollArrows()},1):clearInterval(this.hoverScrollInterval)}onHoverUp(i){this.hoverScrollBy(i,-3)}onHoverDown(i){this.hoverScrollBy(i,3)}onKeyDown(i){("ArrowDown"===i.key||"ArrowUp"===i.key)&&this.checkScrollArrows()}}B.\u0275fac=function(i){return new(i||B)(t.\u0275\u0275directiveInject(t.ElementRef))},B.\u0275dir=t.\u0275\u0275defineDirective({type:B,selectors:[["","cdsScrollableList",""],["","ibmScrollableList",""]],hostBindings:function(i,e){1&i&&t.\u0275\u0275listener("wheel",function(s){return e.onWheel(s)})("touchstart",function(s){return e.onTouchStart(s)})("touchmove",function(s){return e.onTouchMove(s)})("keydown",function(s){return e.onKeyDown(s)})},inputs:{nScrollableList:"nScrollableList",scrollEnabled:"scrollEnabled",scrollUpTarget:"scrollUpTarget",scrollDownTarget:"scrollDownTarget",scrollBy:"scrollBy"},exportAs:["scrollable-list"],features:[t.\u0275\u0275NgOnChangesFeature]});class P{}P.\u0275fac=function(i){return new(i||P)},P.\u0275mod=t.\u0275\u0275defineNgModule({type:P}),P.\u0275inj=t.\u0275\u0275defineInjector({providers:[T],imports:[a.CommonModule,m.FormsModule,C.I18nModule,k.PlaceholderModule,w.UtilsModule,o.IconModule]})}}]);
//# sourceMappingURL=default-node_modules_carbon-components-angular_fesm2020_carbon-components-angular-dropdown_mjs.js.map