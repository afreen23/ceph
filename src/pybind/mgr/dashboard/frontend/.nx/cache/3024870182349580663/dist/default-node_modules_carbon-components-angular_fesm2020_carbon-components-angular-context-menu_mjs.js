(self.webpackChunkceph_dashboard=self.webpackChunkceph_dashboard||[]).push([["default-node_modules_carbon-components-angular_fesm2020_carbon-components-angular-context-menu_mjs"],{22964:(x,C,c)=>{c.r(C),c.d(C,{ContextMenuComponent:()=>u,ContextMenuDividerComponent:()=>d,ContextMenuGroupComponent:()=>p,ContextMenuItemComponent:()=>m,ContextMenuModule:()=>l});var E=c(91974),t=c(87536),f=c(98920),M=c(95631);const h=["*"];function O(o,e){1&o&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"svg",7))}function D(o,e){if(1&o&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"svg",8)),2&o){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("cdsIcon",n.icon)}}function v(o,e){if(1&o&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&o){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.info)}}function P(o,e){1&o&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"svg",9))}class d{constructor(){this.dividerClass=!0,this.role="separator"}}d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["cds-context-menu-divider"],["ibm-context-menu-divider"]],hostVars:3,hostBindings:function(e,n){2&e&&(t.\u0275\u0275attribute("role",n.role),t.\u0275\u0275classProp("cds--menu-item-divider",n.dividerClass))},decls:0,vars:0,template:function(e,n){},encapsulation:2});class _{constructor(){this.selectionSubject=new M.ReplaySubject(1),this.value=[],this.selectionObservable=this.selectionSubject.asObservable()}selectRadio(e){e&&(this.selectionSubject.next(e),this.value=[e])}selectCheckbox(e){e&&(this.value.includes(e)?this.value=this.value.filter(n=>n!==e):this.value.push(e),this.selectionSubject.next(this.value))}selectCheckboxes(e){e&&(this.value=e,this.selectionSubject.next(e))}}_.\u0275fac=function(e){return new(e||_)},_.\u0275prov=t.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac});class p{constructor(e){this.contextMenuSelectionService=e,this.role="group",this.label=null,this.value=[],this.type=null,this.valueChange=new t.EventEmitter,this.subscription=new M.Subscription}get radioGroup(){return"radio"===this.type}get group(){return"checkbox"===this.type}ngOnInit(){const{selectionObservable:e}=this.contextMenuSelectionService,n=e.subscribe(s=>{this.valueChange.emit(s)});this.subscription.add(n)}ngOnChanges(e){e.value&&("radio"===this.type&&this.contextMenuSelectionService.selectRadio(e.value.currentValue),"checkbox"===this.type&&this.contextMenuSelectionService.selectCheckboxes(e.value.currentValue))}ngOnDestroy(){this.subscription.unsubscribe()}}p.\u0275fac=function(e){return new(e||p)(t.\u0275\u0275directiveInject(_))},p.\u0275cmp=t.\u0275\u0275defineComponent({type:p,selectors:[["cds-context-menu-group"],["ibm-context-menu-group"]],hostVars:6,hostBindings:function(e,n){2&e&&(t.\u0275\u0275attribute("role",n.role)("aria-label",n.label),t.\u0275\u0275classProp("cds--menu-item-radio-group",n.radioGroup)("cds--menu-item-group",n.group))},inputs:{label:"label",value:"value",type:"type"},outputs:{valueChange:"valueChange"},features:[t.\u0275\u0275ProvidersFeature([_]),t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:h,decls:1,vars:0,template:function(e,n){1&e&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275projection(0))},encapsulation:2});class u{constructor(e){this.elementRef=e,this.open=!1,this.position={left:0,top:0},this.contextMenu=!0,this.role="menu",this.tabindex="-1"}get contextMenuOpen(){return this.open}get showMenu(){return this.open}get leftPosition(){return this.position.left}get topPosition(){return this.position.top}get classIcons(){return this.elementRef.nativeElement.querySelector(".cds--menu-item .cds--menu-item__icon svg")}ngOnChanges(e){e.open&&e.open.currentValue&&this.focusMenu()}focusMenu(){setTimeout(()=>{this.elementRef.nativeElement.querySelector(".cds--menu-item").focus()})}handleNavigation(e){const n=this.elementRef.nativeElement,s=Array.from(n.querySelectorAll("cds-context-menu[role=menu]")),i=Array.from(n.querySelectorAll(".cds--menu-item")).filter(r=>!s.some(I=>I.contains(r))),a=i.findIndex(r=>0===parseInt(r.getAttribute("tabindex"),10)),g=i[a];switch(e.key){case"ArrowDown":document.activeElement===n?i[0].focus():-1!==a&&a<i.length-1&&i[a+1].focus();break;case"ArrowUp":document.activeElement===n?i[i.length-1].focus():-1!==a&&a>0&&i[a-1].focus();break;case"ArrowRight":-1!==a&&s.some(r=>g.contains(r))&&g.click();break;case"ArrowLeft":{const r=g.parentElement.closest(".cds--menu-item, .cds--menu-item");r&&r.focus();break}}}}u.\u0275fac=function(e){return new(e||u)(t.\u0275\u0275directiveInject(t.ElementRef))},u.\u0275cmp=t.\u0275\u0275defineComponent({type:u,selectors:[["cds-context-menu"],["ibm-context-menu"]],hostVars:14,hostBindings:function(e,n){1&e&&t.\u0275\u0275listener("keydown",function(i){return n.handleNavigation(i)}),2&e&&(t.\u0275\u0275attribute("role",n.role)("tabindex",n.tabindex),t.\u0275\u0275styleProp("left",n.leftPosition,"px")("top",n.topPosition,"px"),t.\u0275\u0275classProp("cds--menu",n.contextMenu)("cds--menu--open",n.contextMenuOpen)("cds--menu--shown",n.showMenu)("cds--menu--with-icons",n.classIcons))},inputs:{open:"open",position:"position"},features:[t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:h,decls:1,vars:0,template:function(e,n){1&e&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275projection(0))},styles:["[_nghost-%COMP%]{display:block}"]});class m{constructor(e,n){this.elementRef=e,this.contextMenuSelectionService=n,this.optionClass=!0,this.role="menuitem",this.tabindex=-1,this.ariaHasPopup=null,this.ariaExpanded=null,this.label="",this.info="",this.type=null,this.checked=!1,this.icon="",this.value="",this.checkedChange=new t.EventEmitter,this.hasChildren=!1,this.selectable=!1,this.subscriptions=new M.Subscription}get ariaChecked(){return"checkbox"===this.type?!!this.checked:null}ngOnInit(){switch(this.type){case"checkbox":this.role="menuitemcheckbox",this.selectable=!0;break;case"radio":this.role="menuitemradio",this.selectable=!0;break;default:this.role="menuitem"}if(this.type&&this.contextMenuSelectionService&&this.value){const{selectionObservable:e}=this.contextMenuSelectionService,n=e.subscribe(s=>{"radio"===this.type&&this.handleSelection(s===this.value),"checkbox"===this.type&&this.handleSelection(s.includes(this.value))});this.subscriptions.add(n)}}ngAfterContentInit(){this.childContextMenu&&(this.hasChildren=!0,this.ariaHasPopup=!0,this.ariaExpanded=!1)}handleClick(e){e.stopPropagation(),this.hasChildren&&(this.openSubMenu(),this.childContextMenu.focusMenu()),this.type&&this.handleSelection(!this.checked),this.contextMenuSelectionService&&("radio"===this.type&&this.contextMenuSelectionService.selectRadio(this.value),"checkbox"===this.type&&this.contextMenuSelectionService.selectCheckbox(this.value))}handleSelection(e){this.checked=e,this.checkedChange.emit(this.checked)}openSubMenu(){if(this.childContextMenu){this.childContextMenu.open=!0,this.ariaExpanded=!0;const e=this.elementRef.nativeElement.getBoundingClientRect();this.childContextMenu.position.left=e.left+e.width,this.childContextMenu.position.top=e.top-4}}closeSubMenu(){this.childContextMenu&&(this.childContextMenu.open=!1,this.ariaExpanded=!1)}handleMouseOver(){this.openSubMenu()}handleMouseOut(){this.closeSubMenu()}handleFocus(){this.tabindex=0,this.hasChildren&&this.ariaExpanded&&this.closeSubMenu()}handleBlur(){this.tabindex=-1}focusItem(){this.elementRef.nativeElement.focus()}ngOnDestroy(){this.subscriptions.unsubscribe()}}m.\u0275fac=function(e){return new(e||m)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(_,8))},m.\u0275cmp=t.\u0275\u0275defineComponent({type:m,selectors:[["cds-context-menu-item"],["ibm-context-menu-item"]],contentQueries:function(e,n,s){if(1&e&&t.\u0275\u0275contentQuery(s,u,7),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.childContextMenu=i.first)}},hostVars:7,hostBindings:function(e,n){1&e&&t.\u0275\u0275listener("keydown.enter",function(i){return n.handleClick(i)})("keydown.space",function(i){return n.handleClick(i)})("click",function(i){return n.handleClick(i)})("mouseover",function(){return n.handleMouseOver()})("mouseout",function(){return n.handleMouseOut()})("focus",function(){return n.handleFocus()})("blur",function(){return n.handleBlur()}),2&e&&(t.\u0275\u0275attribute("role",n.role)("tabindex",n.tabindex)("aria-haspopup",n.ariaHasPopup)("aria-expanded",n.ariaExpanded)("aria-checked",n.ariaChecked),t.\u0275\u0275classProp("cds--menu-item",n.optionClass))},inputs:{label:"label",info:"info",type:"type",checked:"checked",icon:"icon",value:"value"},outputs:{checkedChange:"checkedChange"},ngContentSelectors:h,decls:9,vars:6,consts:[[1,"cds--menu-item__icon"],["cdsIcon","checkmark","size","16",4,"ngIf"],["size","16",3,"cdsIcon",4,"ngIf"],[1,"cds--menu-item__label",3,"title"],[1,"cds--menu-item__shortcut"],[4,"ngIf"],["cdsIcon","caret--right","size","16",4,"ngIf"],["cdsIcon","checkmark","size","16"],["size","16",3,"cdsIcon"],["cdsIcon","caret--right","size","16"]],template:function(e,n){1&e&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,O,1,0,"svg",1)(2,D,1,1,"svg",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",3),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",4),t.\u0275\u0275template(6,v,2,1,"ng-container",5)(7,P,1,0,"svg",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275projection(8)),2&e&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.selectable&&n.checked),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.selectable&&n.icon),t.\u0275\u0275advance(),t.\u0275\u0275property("title",n.label),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.label),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.info),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.hasChildren))},dependencies:[E.NgIf,f.IconDirective],styles:["[_nghost-%COMP%]{grid-template-columns:1rem 1fr max-content}"]});class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=t.\u0275\u0275defineInjector({imports:[E.CommonModule,f.IconModule]})}}]);
//# sourceMappingURL=default-node_modules_carbon-components-angular_fesm2020_carbon-components-angular-context-menu_mjs.js.map