(self.webpackChunkceph_dashboard=self.webpackChunkceph_dashboard||[]).push([["default-node_modules_carbon-components-angular_fesm2020_carbon-components-angular-modal_mjs"],{44126:($,R,s)=>{s.r(R),s.d(R,{AlertModal:()=>y,AlertModalType:()=>T,BaseModal:()=>i,BaseModalService:()=>l,Modal:()=>m,ModalButtonType:()=>A,ModalContent:()=>E,ModalContentText:()=>D,ModalFooter:()=>p,ModalHeader:()=>M,ModalHeaderHeading:()=>g,ModalHeaderLabel:()=>C,ModalModule:()=>h,ModalService:()=>d,Overlay:()=>u});var e=s(87536),c=s(91974),I=s(59786),L=s(71668),K=s(50619),B=s(28110),U=s(65530),S=s(98920),W=s(786);const H=["overlay"],O=["*"],w=(n,t)=>({"cds--modal--danger":n,"is-visible":t}),j=["modal"],F=(n,t,o,a)=>({"cds--modal-container--xs":n,"cds--modal-container--sm":t,"cds--modal-container--md":o,"cds--modal-container--lg":a});function x(n,t){if(1&n){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"cds-icon-button",2),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);const _=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(_.onClose())}),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(1,"svg",3),e.\u0275\u0275elementEnd()}if(2&n){const o=e.\u0275\u0275nextContext();e.\u0275\u0275property("buttonNgClass",o.buttonNgClass)("buttonAttributes",o.buttonAttributes)("description",o.closeLabel)}}const V=["modalContent"];function z(n,t){if(1&n){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",9),e.\u0275\u0275listener("click",function(){const _=e.\u0275\u0275restoreView(o).index,r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.buttonClicked(_))}),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const o=t.$implicit;e.\u0275\u0275advance(),e.\u0275\u0275property("cdsButton",o.type)("id",o.id),e.\u0275\u0275attribute("modal-primary-focus",-1!==o.type.indexOf("primary")?"":null),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",o.text," ")}}function k(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"cds-modal-footer"),e.\u0275\u0275template(1,z,3,4,"ng-container",8),e.\u0275\u0275elementEnd()),2&n){const o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",o.buttons)}}class i{constructor(){this.close=new e.EventEmitter,this.open=!1}closeModal(){this.close.emit()}}i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,selectors:[["","cdsBaseModal",""],["","ibmBaseModal",""]],inputs:{open:"open"},outputs:{close:"close"}});class l{constructor(t){this.placeholderService=t}create(t){t=Object.assign({},{inputs:{}},t);const a=Object.keys(t.inputs).map(f=>({provide:f,useValue:t.inputs[f]})),_=e.Injector.create({providers:a}),r=this.placeholderService.createComponent(t.component,_);let P=document.activeElement;return setTimeout(()=>{r.instance.open=!0}),r.previouslyFocusedElement=P,r.instance.close.pipe((0,K.tap)(()=>{r.instance.open=!1}),(0,K.delay)(240)).subscribe(()=>{this.placeholderService.destroyComponent(r),l.modalList=l.modalList.filter(f=>f!==r)}),r.onDestroy(()=>{P.focus()}),l.modalList.push(r),r}destroy(t=-1){t>=l.modalList.length||0===l.modalList.length||(t<0&&(t=l.modalList.length-1),setTimeout(()=>{l.modalList[t]&&(this.placeholderService.destroyComponent(l.modalList[t]),l.modalList.splice(t,1))},240))}}l.modalList=[],l.\u0275fac=function(t){return new(t||l)(e.\u0275\u0275inject(B.PlaceholderService))},l.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac});class u{constructor(){this.theme="default",this.open=!1,this.overlaySelect=new e.EventEmitter}overlayClick(t){t.target===this.overlay.nativeElement&&(t.stopPropagation(),this.overlaySelect.emit(t))}}u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=e.\u0275\u0275defineComponent({type:u,selectors:[["cds-overlay"],["ibm-overlay"]],viewQuery:function(t,o){if(1&t&&e.\u0275\u0275viewQuery(H,7),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.overlay=a.first)}},inputs:{theme:"theme",open:"open"},outputs:{overlaySelect:"overlaySelect"},ngContentSelectors:O,decls:3,vars:4,consts:[["overlay",""],[1,"cds--modal","cds--modal-tall",3,"click","ngClass"]],template:function(t,o){if(1&t){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"section",1,0),e.\u0275\u0275listener("click",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(o.overlayClick(r))}),e.\u0275\u0275projection(2),e.\u0275\u0275elementEnd()}2&t&&e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(1,w,"danger"===o.theme,o.open))},dependencies:[c.NgClass],encapsulation:2});class m{constructor(t,o,a){this.modalService=t,this.document=o,this.renderer=a,this.size="md",this.theme="default",this.ariaLabel="default",this.open=!1,this.hasScrollingContent=null,this.overlaySelected=new e.EventEmitter,this.close=new e.EventEmitter,this.selectorPrimaryFocus="[modal-primary-focus]"}ngOnChanges({open:t,hasScrollingContent:o}){t&&(t.currentValue?(setTimeout(()=>this.focusInitialElement(),100),this.renderer.addClass(this.document.body,"cds--body--with-modal-open")):t.currentValue?this.trigger&&this.trigger.focus():this.renderer.removeClass(this.document.body,"cds--body--with-modal-open")),o&&this.updateScrollbar()}ngAfterViewInit(){this.focusInitialElement(),this.updateScrollbar()}handleKeyboardEvent(t){switch(t.key){case"Escape":t.stopImmediatePropagation(),this.open=!1,this.close.emit(),this.modalService.destroy();break;case"Tab":(0,L.cycleTabs)(t,this.modal.nativeElement)}}get shouldShowScrollbar(){const t=this.modal?this.modal.nativeElement.querySelector(".cds--modal-content"):null;if(t){const o=Math.ceil(t.getBoundingClientRect().height);return t.scrollHeight>o}return!1}ngOnDestroy(){this.renderer.removeClass(this.document.body,"cds--body--with-modal-open")}focusInitialElement(){const t=this.modal.nativeElement.querySelector(this.selectorPrimaryFocus);t&&t.focus?setTimeout(()=>t.focus()):(0,L.getFocusElementList)(this.modal.nativeElement).length>0?setTimeout(()=>(0,L.getFocusElementList)(this.modal.nativeElement)[0].focus()):setTimeout(()=>this.modal.nativeElement.focus())}updateScrollbar(){const t=this.modal?this.modal.nativeElement.querySelector(".cds--modal-content"):null,o=null!==this.hasScrollingContent?this.hasScrollingContent:this.shouldShowScrollbar;t&&(o?this.renderer.addClass(t,"cds--modal-scroll-content"):this.renderer.removeClass(t,"cds--modal-scroll-content"))}}m.\u0275fac=function(t){return new(t||m)(e.\u0275\u0275directiveInject(l),e.\u0275\u0275directiveInject(c.DOCUMENT),e.\u0275\u0275directiveInject(e.Renderer2))},m.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["cds-modal"],["ibm-modal"]],viewQuery:function(t,o){if(1&t&&e.\u0275\u0275viewQuery(j,7),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.modal=a.first)}},hostBindings:function(t,o){1&t&&e.\u0275\u0275listener("keydown",function(_){return o.handleKeyboardEvent(_)})},inputs:{size:"size",theme:"theme",ariaLabel:"ariaLabel",open:"open",trigger:"trigger",hasScrollingContent:"hasScrollingContent"},outputs:{overlaySelected:"overlaySelected",close:"close"},features:[e.\u0275\u0275NgOnChangesFeature],ngContentSelectors:O,decls:4,vars:9,consts:[["modal",""],[3,"overlaySelect","theme","open"],["role","dialog","aria-modal","true",1,"cds--modal-container",2,"z-index","1",3,"ngClass"]],template:function(t,o){if(1&t){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"cds-overlay",1),e.\u0275\u0275listener("overlaySelect",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(o.overlaySelected.emit())}),e.\u0275\u0275elementStart(1,"div",2,0),e.\u0275\u0275projection(3),e.\u0275\u0275elementEnd()()}2&t&&(e.\u0275\u0275property("theme",o.theme)("open",o.open),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(4,F,"xs"===o.size,"sm"===o.size,"md"===o.size,"lg"===o.size)),e.\u0275\u0275attribute("aria-label",o.ariaLabel))},dependencies:[c.NgClass,u],encapsulation:2});class M{constructor(t){this.i18n=t,this.theme="default",this.closeLabel=this.i18n.get().MODAL.CLOSE,this.showCloseButton=!0,this.closeSelect=new e.EventEmitter,this.buttonNgClass={"cds--modal-close":!0},this.buttonAttributes={"aria-label":this.i18n.get().MODAL.CLOSE}}onClose(){this.closeSelect.emit()}}M.\u0275fac=function(t){return new(t||M)(e.\u0275\u0275directiveInject(U.I18n))},M.\u0275cmp=e.\u0275\u0275defineComponent({type:M,selectors:[["cds-modal-header"],["ibm-modal-header"]],inputs:{theme:"theme",closeLabel:"closeLabel",showCloseButton:"showCloseButton"},outputs:{closeSelect:"closeSelect"},ngContentSelectors:O,decls:4,vars:4,consts:[[1,"cds--modal-close-button"],["type","button","align","left",3,"buttonNgClass","buttonAttributes","description","click",4,"ngIf"],["type","button","align","left",3,"click","buttonNgClass","buttonAttributes","description"],["cdsIcon","close","size","20",1,"cds--modal-close__icon"]],template:function(t,o){1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"header"),e.\u0275\u0275projection(1),e.\u0275\u0275elementStart(2,"div",0),e.\u0275\u0275template(3,x,2,3,"cds-icon-button",1),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275classMapInterpolate1("cds--modal-header ",o.theme,""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",o.showCloseButton))},dependencies:[c.NgIf,I.IconButton,S.IconDirective],encapsulation:2});class p{}p.\u0275fac=function(t){return new(t||p)},p.\u0275cmp=e.\u0275\u0275defineComponent({type:p,selectors:[["cds-modal-footer"],["ibm-modal-footer"]],ngContentSelectors:O,decls:2,vars:0,consts:[[1,"cds--modal-footer"]],template:function(t,o){1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"footer",0),e.\u0275\u0275projection(1),e.\u0275\u0275elementEnd())},encapsulation:2});class E{constructor(){this.modalContentClass=!0,this.hasForm=!1}}E.\u0275fac=function(t){return new(t||E)},E.\u0275dir=e.\u0275\u0275defineDirective({type:E,selectors:[["","cdsModalContent",""],["","ibmModalContent",""]],hostVars:4,hostBindings:function(t,o){2&t&&e.\u0275\u0275classProp("cds--modal-content",o.modalContentClass)("cds--modal-content--with-form",o.hasForm)},inputs:{hasForm:"hasForm"}});class g{constructor(){this.modalHeaderHeadingClass=!0}}g.\u0275fac=function(t){return new(t||g)},g.\u0275dir=e.\u0275\u0275defineDirective({type:g,selectors:[["","cdsModalHeaderHeading",""],["","ibmModalHeaderHeading",""]],hostVars:2,hostBindings:function(t,o){2&t&&e.\u0275\u0275classProp("cds--modal-header__heading",o.modalHeaderHeadingClass)}});class C{constructor(){this.modalHeaderLabelClass=!0}}C.\u0275fac=function(t){return new(t||C)},C.\u0275dir=e.\u0275\u0275defineDirective({type:C,selectors:[["","cdsModalHeaderLabel",""],["","ibmModalHeaderLabel",""]],hostVars:2,hostBindings:function(t,o){2&t&&e.\u0275\u0275classProp("cds--modal-header__label",o.modalHeaderLabelClass)}});class y extends i{constructor(t="default",o,a,_,r,P=null,f=[],N,Q=!0){super(),this.type=t,this.label=o,this.title=a,this.content=_,this.size=r,this.hasScrollingContent=P,this.buttons=f,this.onClose=N,this.showCloseButton=Q;for(let v=0;v<this.buttons.length;v++){const b=this.buttons[v];b.id||(b.id=`alert-modal-button-${v}`),b.type||(b.type="secondary")}}ngAfterViewInit(){if(!this.modalContent)return!1;const t=this.modalContent.nativeElement;t.scrollHeight>t.clientHeight?t.tabIndex=0:t.tabIndex=-1}buttonClicked(t){const o=this.buttons[t];o.click&&o.click(),this.closeModal()}dismissModal(t){this.onClose&&!1===this.onClose(t)||this.closeModal()}}var T,n,A;y.\u0275fac=function(t){return new(t||y)(e.\u0275\u0275directiveInject("type",8),e.\u0275\u0275directiveInject("label",8),e.\u0275\u0275directiveInject("title",8),e.\u0275\u0275directiveInject("content",8),e.\u0275\u0275directiveInject("size",8),e.\u0275\u0275directiveInject("hasScrollingContent",8),e.\u0275\u0275directiveInject("buttons",8),e.\u0275\u0275directiveInject("close",8),e.\u0275\u0275directiveInject("showCloseButton",8))},y.\u0275cmp=e.\u0275\u0275defineComponent({type:y,selectors:[["cds-alert-modal"],["ibm-alert-modal"]],viewQuery:function(t,o){if(1&t&&e.\u0275\u0275viewQuery(V,7),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.modalContent=a.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:10,consts:[["modalContent",""],[3,"overlaySelected","size","theme","ariaLabel","hasScrollingContent","open"],[3,"closeSelect","showCloseButton"],["cdsModalHeaderLabel","",1,"cds--type-delta"],["cdsModalHeaderHeading","",1,"cds--type-beta"],["cdsModalContent",""],[3,"innerHTML"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","cdsButton","id"]],template:function(t,o){if(1&t){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"cds-modal",1),e.\u0275\u0275listener("overlaySelected",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(o.dismissModal("overlay"))}),e.\u0275\u0275elementStart(1,"cds-modal-header",2),e.\u0275\u0275listener("closeSelect",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(o.dismissModal("close"))}),e.\u0275\u0275elementStart(2,"p",3),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",4),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",5,0),e.\u0275\u0275element(8,"p",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,k,2,1,"cds-modal-footer",7),e.\u0275\u0275elementEnd()}2&t&&(e.\u0275\u0275property("size",o.size)("theme",o.type)("ariaLabel",o.title)("hasScrollingContent",o.hasScrollingContent)("open",o.open),e.\u0275\u0275advance(),e.\u0275\u0275property("showCloseButton",o.showCloseButton),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(o.label),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(o.title),e.\u0275\u0275advance(3),e.\u0275\u0275property("innerHTML",o.content,e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",o.buttons.length>0))},dependencies:[c.NgForOf,c.NgIf,I.Button,m,M,p,E,g,C],encapsulation:2}),(n=T||(T={})).default="default",n.danger="danger",function(n){n.primary="primary",n.secondary="secondary",n.tertiary="tertiary",n.ghost="ghost",n.danger="danger",n.danger_primary="danger--primary"}(A||(A={}));class d extends l{constructor(t){super(t),this.placeholderService=t}show(t){return this.create({component:y,inputs:{type:t.type,label:t.label,title:t.title,content:t.content,hasScrollingContent:void 0!==t.hasScrollingContent?t.hasScrollingContent:null,size:t.size,buttons:t.buttons||[],close:t.close||(()=>{}),showCloseButton:t.showCloseButton}})}}d.\u0275fac=function(t){return new(t||d)(e.\u0275\u0275inject(B.PlaceholderService))},d.\u0275prov=e.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac});class D{constructor(){this.modalContentTextClass=!0}}D.\u0275fac=function(t){return new(t||D)},D.\u0275dir=e.\u0275\u0275defineDirective({type:D,selectors:[["","cdsModalContentText",""],["","ibmModalContentText",""]],hostVars:2,hostBindings:function(t,o){2&t&&e.\u0275\u0275classProp("cds--modal-content__text",o.modalContentTextClass)}});class h{}h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.\u0275\u0275defineNgModule({type:h}),h.\u0275inj=e.\u0275\u0275defineInjector({providers:[l,d],imports:[c.CommonModule,I.ButtonModule,U.I18nModule,B.PlaceholderModule,W.ExperimentalModule,S.IconModule]})}}]);
//# sourceMappingURL=default-node_modules_carbon-components-angular_fesm2020_carbon-components-angular-modal_mjs.js.map