(self.webpackChunkceph_dashboard=self.webpackChunkceph_dashboard||[]).push([["default-node_modules_carbon-components-angular_fesm2020_carbon-components-angular-file-uploader_mjs"],{47604:(R,p,o)=>{o.r(p),o.d(p,{FileComponent:()=>c,FileUploader:()=>r,FileUploaderModule:()=>d});var e=o(87536),E=o(53648),f=o(65530),s=o(91974),u=o(64514),m=o(33386),g=o(98920);function v(l,n){1&l&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(0,"svg",8))}function C(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",4),e.\u0275\u0275template(1,v,1,0,"svg",5),e.\u0275\u0275elementStart(2,"button",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.remove.emit())})("keyup.enter",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.remove.emit())})("keyup.space",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.remove.emit())}),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(3,"svg",7),e.\u0275\u0275elementEnd()()}if(2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.isInvalidText),e.\u0275\u0275advance(),e.\u0275\u0275attribute("aria-label",t.translations.REMOVE_BUTTON)}}function T(l,n){1&l&&(e.\u0275\u0275elementStart(0,"span")(1,"div",9),e.\u0275\u0275element(2,"cds-loading",10),e.\u0275\u0275elementEnd()())}function b(l,n){if(1&l&&(e.\u0275\u0275elementStart(0,"span",4),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(1,"svg",11),e.\u0275\u0275elementEnd()),2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ariaLabel",t.translations.CHECKMARK)}}function x(l,n){if(1&l&&(e.\u0275\u0275elementStart(0,"div",12)(1,"div",13),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p",14),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.fileItem.invalidTitle),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.fileItem.invalidText)}}const M=["fileInput"],O=l=>({"cds--file-browse-btn--disabled":l}),D=l=>({"cds--file__drop-container--drag-over":l});function h(l,n){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275elementContainerEnd()),2&l){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(t.dropText)}}function y(l,n){}function P(l,n){if(1&l&&e.\u0275\u0275template(0,y,0,0,"ng-template",14),2&l){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngTemplateOutlet",t.dropText)}}function U(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"label",11),e.\u0275\u0275listener("keyup.enter",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(9);return e.\u0275\u0275resetView(i.click())})("keyup.space",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(9);return e.\u0275\u0275resetView(i.click())}),e.\u0275\u0275elementStart(1,"div",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(9);return e.\u0275\u0275resetView(i.click())})("dragover",function(i){e.\u0275\u0275restoreView(t);const _=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(_.onDragOver(i))})("dragleave",function(i){e.\u0275\u0275restoreView(t);const _=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(_.onDragLeave(i))})("drop",function(i){e.\u0275\u0275restoreView(t);const _=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(_.onDrop(i))}),e.\u0275\u0275template(2,h,2,1,"ng-container",13)(3,P,1,1,null,13),e.\u0275\u0275elementEnd()()}if(2&l){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,O,t.disabled)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(7,D,t.dragOver)),e.\u0275\u0275attribute("for",t.fileUploaderId),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!t.isTemplate(t.dropText)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.isTemplate(t.dropText))}}function F(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(9);return e.\u0275\u0275resetView(i.click())}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&l){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("cdsButton",t.buttonType)("size",t.size)("disabled",t.disabled),e.\u0275\u0275attribute("for",t.fileUploaderId),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",t.buttonText," ")}}function L(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"cds-file",16),e.\u0275\u0275listener("remove",function(){const i=e.\u0275\u0275restoreView(t).$implicit,_=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(_.removeFile(i))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&l){const t=n.$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275property("fileItem",t)("size",a.fileItemSize)}}function B(l,n){if(1&l){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"label",3),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p",4),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275template(6,U,4,9,"label",6)(7,F,2,5,"button",7),e.\u0275\u0275elementStart(8,"input",8,1),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onFilesAdded())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275template(11,L,2,2,"ng-container",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&l){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("for",t.fileUploaderId),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(t.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.description),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.drop),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!t.drop),e.\u0275\u0275advance(),e.\u0275\u0275property("accept",t.accept)("id",t.fileUploaderId)("multiple",t.multiple)("disabled",t.disabled),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.files)}}function k(l,n){1&l&&e.\u0275\u0275element(0,"div",17)(1,"div",18)(2,"button",19)}class c{constructor(n){this.i18n=n,this.translations=this.i18n.get().FILE_UPLOADER,this.size="lg",this.remove=new e.EventEmitter,this.selectedFile=!0}get isInvalidText(){return this.fileItem.invalidText}get fileSizeSmall(){return"sm"===this.size}get fileSizeMedium(){return"md"===this.size}get fileSizeLarge(){return"lg"===this.size}ngOnDestroy(){this.remove.emit()}}c.\u0275fac=function(n){return new(n||c)(e.\u0275\u0275directiveInject(f.I18n))},c.\u0275cmp=e.\u0275\u0275defineComponent({type:c,selectors:[["cds-file"],["ibm-file"]],hostVars:10,hostBindings:function(n,t){2&n&&e.\u0275\u0275classProp("cds--file__selected-file",t.selectedFile)("cds--file__selected-file--invalid",t.isInvalidText)("cds--file__selected-file--sm",t.fileSizeSmall)("cds--file__selected-file--md",t.fileSizeMedium)("cds--file__selected-file--lg",t.fileSizeLarge)},inputs:{translations:"translations",fileItem:"fileItem",size:"size"},outputs:{remove:"remove"},decls:6,vars:6,consts:[[1,"cds--file-filename",3,"title"],["class","cds--file__state-container",4,"ngIf"],[4,"ngIf"],["class","cds--form-requirement","role","alert",4,"ngIf"],[1,"cds--file__state-container"],["cdsIcon","warning--filled","class","cds--file--invalid","size","16",4,"ngIf"],["type","button","tabindex","0",1,"cds--file-close",3,"click","keyup.enter","keyup.space"],["cdsIcon","close","size","16"],["cdsIcon","warning--filled","size","16",1,"cds--file--invalid"],[1,"cds--inline-loading__animation"],["size","sm"],["cdsIcon","checkmark--filled","size","16",1,"cds--file-complete",3,"ariaLabel"],["role","alert",1,"cds--form-requirement"],[1,"cds--form-requirement__title"],[1,"cds--form-requirement__supplement"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"p",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,C,4,2,"span",1)(3,T,3,0,"span",2)(4,b,2,1,"span",1)(5,x,5,2,"div",3)),2&n&&(e.\u0275\u0275property("title",t.fileItem.file.name),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(t.fileItem.file.name),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","edit"===t.fileItem.state),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","upload"===t.fileItem.state),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","complete"===t.fileItem.state),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.fileItem.invalid))},dependencies:[s.NgIf,m.Loading,g.IconDirective],encapsulation:2});const I=()=>{};class r{constructor(n){this.i18n=n,this.buttonText=this.i18n.get().FILE_UPLOADER.OPEN,this.buttonType="primary",this.accept=[],this.multiple=!0,this.skeleton=!1,this.fileItemSize="lg",this.drop=!1,this.fileUploaderId=`file-uploader-${r.fileUploaderCount}`,this.files=new Set,this.disabled=!1,this.filesChange=new e.EventEmitter,this.dragOver=!1,this.onTouchedCallback=I,this.onChangeCallback=I,r.fileUploaderCount++}get value(){return this.files}set value(n){n!==this.files&&(this.files=n,this.onChangeCallback(n))}onBlur(){this.onTouchedCallback()}get fileList(){return Array.from(this.fileInput.nativeElement.files)}writeValue(n){n!==this.value&&(this.files=n)}createFileItem(n){return{uploaded:!1,state:"edit",invalid:!1,invalidText:"",file:n}}onFilesAdded(){const n=new Set(this.files);this.multiple||n.clear();for(let t of this.fileList){const a=this.createFileItem(t);n.add(a)}this.value=n,this.filesChange.emit(n)}onDragOver(n){n.stopPropagation(),n.preventDefault(),!this.disabled&&(this.dragOver=!0)}onDragLeave(n){n.stopPropagation(),n.preventDefault(),this.dragOver=!1}onDrop(n){if(n.stopPropagation(),n.preventDefault(),this.disabled)return;const t=Array.from(n.dataTransfer.files),a=new Set(this.files);t.filter(({name:i,type:_})=>{const A=i.split(".").pop().replace(/^/,".");return this.accept.includes(_)||this.accept.includes(A)||!this.accept.length}).forEach(i=>{if(!a.size||this.multiple){const _=this.createFileItem(i);a.add(_)}}),this.value=a,this.filesChange.emit(a),this.dragOver=!1}removeFile(n){if(this.files&&this.files.has(n)){const t=new Set(this.files);t.delete(n),this.filesChange.emit(t),this.value=t}this.fileInput.nativeElement.value=""}isTemplate(n){return n instanceof e.TemplateRef}registerOnTouched(n){this.onTouchedCallback=n}registerOnChange(n){this.onChangeCallback=n}setDisabledState(n){this.disabled=n}}r.fileUploaderCount=0,r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(f.I18n))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["cds-file-uploader"],["ibm-file-uploader"]],viewQuery:function(n,t){if(1&n&&e.\u0275\u0275viewQuery(M,5),2&n){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(t.fileInput=a.first)}},inputs:{buttonText:"buttonText",buttonType:"buttonType",title:"title",description:"description",accept:"accept",multiple:"multiple",skeleton:"skeleton",size:"size",fileItemSize:"fileItemSize",drop:"drop",dropText:"dropText",fileUploaderId:"fileUploaderId",files:"files",disabled:"disabled"},outputs:{filesChange:"filesChange"},features:[e.\u0275\u0275ProvidersFeature([{provide:E.NG_VALUE_ACCESSOR,useExisting:r,multi:!0}])],decls:3,vars:2,consts:[["skeletonTemplate",""],["fileInput",""],[4,"ngIf","ngIfElse"],[1,"cds--file--label",3,"for"],["role","alert",1,"cds--label-description"],[1,"cds--file"],["class","cds--file-browse-btn","tabindex","0",3,"ngClass","keyup.enter","keyup.space",4,"ngIf"],["type","button",3,"cdsButton","size","disabled","click",4,"ngIf"],["type","file","tabindex","-1",1,"cds--file-input",3,"change","accept","id","multiple","disabled"],[1,"cds--file-container"],[4,"ngFor","ngForOf"],["tabindex","0",1,"cds--file-browse-btn",3,"keyup.enter","keyup.space","ngClass"],["role","button",1,"cds--file__drop-container",3,"click","dragover","dragleave","drop","ngClass"],[4,"ngIf"],[3,"ngTemplateOutlet"],["type","button",3,"click","cdsButton","size","disabled"],[3,"remove","fileItem","size"],[1,"cds--skeleton__text",2,"width","100px"],[1,"cds--skeleton__text",2,"width","225px"],["cdsButton","","skeleton","true"]],template:function(n,t){if(1&n&&e.\u0275\u0275template(0,B,12,10,"ng-container",2)(1,k,3,0,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),2&n){const a=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngIf",!t.skeleton)("ngIfElse",a)}},dependencies:[s.NgClass,s.NgForOf,s.NgIf,s.NgTemplateOutlet,u.Button,c],encapsulation:2});class d{}d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=e.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.CommonModule,u.ButtonModule,m.LoadingModule,g.IconModule]})}}]);
//# sourceMappingURL=default-node_modules_carbon-components-angular_fesm2020_carbon-components-angular-file-uploader_mjs.js.map