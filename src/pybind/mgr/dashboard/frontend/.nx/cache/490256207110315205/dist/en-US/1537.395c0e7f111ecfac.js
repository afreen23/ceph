(self.webpackChunkceph_dashboard=self.webpackChunkceph_dashboard||[]).push([[1537],{15905:(N,M,f)=>{f.d(M,{Ay:()=>O,G1:()=>E,Je:()=>v,Y0:()=>m,yX:()=>C});var t,v=function(d){return d.LEFT="left",d.RIGHT="right",d.TOP="top",d.BOTTOM="bottom",d}(v||{}),m=((t={})[v.LEFT]=function(d,r,a){return{top:d.top-Math.round(r.offsetHeight/2)+Math.round(a.height/2),left:Math.round(d.left-r.offsetWidth)}},t[v.RIGHT]=function(d,r,a){return{top:d.top-Math.round(r.offsetHeight/2)+Math.round(a.height/2),left:Math.round(d.left+a.width)}},t[v.TOP]=function(d,r,a){return{top:Math.round(d.top-r.offsetHeight),left:d.left-Math.round(r.offsetWidth/2)+Math.round(a.width/2)}},t[v.BOTTOM]=function(d,r,a){return{top:Math.round(d.top+a.height),left:d.left-Math.round(r.offsetWidth/2)+Math.round(a.width/2)}},t),y=typeof window<"u"?window:{innerHeight:0,scrollY:0,innerWidth:0,scrollX:0},C=function(){function d(r){void 0===r&&(r={}),this.positions=m,this.positions=Object.assign({},m,r)}return d.prototype.getRelativeOffset=function(r){for(var a={left:r.offsetLeft,top:r.offsetTop};r.offsetParent&&"static"===getComputedStyle(r.offsetParent).position;)a.left+=r.offsetLeft,a.top+=r.offsetTop,r=r.offsetParent;return a},d.prototype.getAbsoluteOffset=function(r){for(var a=r,p={top:0,left:0};a.offsetParent;){var c=getComputedStyle(a.offsetParent);"static"===c.position&&c.marginLeft&&c.marginTop&&(parseInt(c.marginTop,10)&&(p.top+=parseInt(c.marginTop,10)),parseInt(c.marginLeft,10)&&(p.left+=parseInt(c.marginLeft,10))),a=a.offsetParent}var u=r.getBoundingClientRect(),g=document.body.getBoundingClientRect();return{top:u.top-g.top+p.top,left:u.left-g.left+p.left}},d.prototype.findRelative=function(r,a,p){var c=this.getRelativeOffset(r),u=r.getBoundingClientRect();return this.calculatePosition(c,u,a,p)},d.prototype.findAbsolute=function(r,a,p){var c=this.getAbsoluteOffset(r),u=r.getBoundingClientRect();return this.calculatePosition(c,u,a,p)},d.prototype.findPosition=function(r,a,p,c){void 0===c&&(c=this.getAbsoluteOffset.bind(this));var u=c(r),g=r.getBoundingClientRect();return this.calculatePosition(u,g,a,p)},d.prototype.findPositionAt=function(r,a,p){return this.calculatePosition(r,{top:0,left:0,height:0,width:0},a,p)},d.prototype.getPlacementBox=function(r,a){return{top:a.top,bottom:r.offsetHeight+a.top,left:a.left,right:r.offsetWidth+a.left}},d.prototype.addOffset=function(r,a,p){return void 0===a&&(a=0),void 0===p&&(p=0),Object.assign({},r,{top:r.top+a,left:r.left+p})},d.prototype.setElement=function(r,a){r.style.top=a.top+"px",r.style.left=a.left+"px"},d.prototype.findBestPlacement=function(r,a,p,c,u){var g=this;void 0===c&&(c=this.defaultContainerFunction.bind(this)),void 0===u&&(u=this.findPosition.bind(this));var D=p.map(function(b){var T=u(r,a,b),_=g.getPlacementBox(a,T),I=0,x=0,w=c();_.top<w.top?I=w.top-_.top:_.bottom>w.height&&(I=_.bottom-w.height),_.left<w.left?x=w.left-_.left:_.right>w.width&&(x=_.right-w.width),I&&!x?x=1:x&&!I&&(I=1);var B=a.offsetHeight*a.offsetWidth;return{placement:b,weight:(B-I*x)/B}});return D.sort(function(b,T){return T.weight-b.weight}),D[0].placement},d.prototype.findBestPlacementAt=function(r,a,p,c){var u=this;return void 0===c&&(c=this.defaultContainerFunction.bind(this)),this.findBestPlacement(null,a,p,c,function(D,b,T){return u.findPositionAt(r,b,T)})},d.prototype.defaultContainerFunction=function(){return{top:0,left:0,height:y.innerHeight,width:y.innerWidth}},d.prototype.calculatePosition=function(r,a,p,c){return this.positions[c]?this.positions[c](r,p,a):(console.error("No function found for placement, defaulting to 0,0"),{left:0,top:0})},d}(),E=new C;const O=C},31537:(N,M,f)=>{f.r(M),f.d(M,{AbstractDropdownView:()=>V,Dropdown:()=>we,DropdownList:()=>ye,DropdownModule:()=>Ie,DropdownService:()=>U,ScrollableList:()=>be});var t=f(87536),v=f(53648),m=f(95631),y=f(94274),C=f(65530),E=f(15905),O=f(28110),d=f(91974),r=f(98920),a=f(50619);const p=["dropdownButton"],c=["dropdownMenu"],u=["*"],g=(n,o,e,i,s,l,h,S,k,L,H,xe,Ce,Te,Ee,De)=>({"cds--dropdown":n,"cds--multiselect":o,"cds--multi-select--selected":e,"cds--dropdown--light":i,"cds--list-box--light":s,"cds--list-box--inline":l,"cds--skeleton":h,"cds--dropdown--disabled cds--list-box--disabled":S,"cds--dropdown--readonly":k,"cds--dropdown--invalid":L,"cds--dropdown--warning cds--list-box--warning":H,"cds--dropdown--sm cds--list-box--sm":xe,"cds--dropdown--md cds--list-box--md":Ce,"cds--dropdown--lg cds--list-box--lg":Te,"cds--list-box--expanded":Ee,"cds--list-box--invalid":De}),D=n=>({a:n}),b=n=>({"cds--list-box--up":n}),T=(n,o)=>({"cds--label--disabled":n,"cds--visually-hidden":o}),_=n=>({"cds--list-box__menu-icon--open":n}),I=n=>({"cds--form__helper-text--disabled":n});function x(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(e.label)}}function w(n,o){}function B(n,o){if(1&n&&t.\u0275\u0275template(0,w,0,0,"ng-template",17),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngTemplateOutlet",e.label)}}function P(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"label",16),t.\u0275\u0275template(1,x,2,1,"ng-container",7)(2,B,1,1,null,7),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("for",e.id)("ngClass",t.\u0275\u0275pureFunction2(4,T,e.disabled,e.hideLabel)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!e.isTemplate(e.label)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.isTemplate(e.label))}}function R(n,o){1&n&&t.\u0275\u0275element(0,"div",18)}function A(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.clearSelected())})("keydown.enter",function(){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.clearSelected())}),t.\u0275\u0275text(1),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(2,"svg",20),t.\u0275\u0275element(3,"path",21),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("title",e.clearText),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",e.getSelectedCount()," ")}}function W(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"span",18),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,e.getDisplayStringValue()))}}function K(n,o){}function j(n,o){if(1&n&&t.\u0275\u0275template(0,K,0,0,"ng-template",22),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngTemplateOutletContext",e.getRenderTemplateContext())("ngTemplateOutlet",e.displayValue)}}function $(n,o){if(1&n&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"svg",23)),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(2,_,!e.menuIsClosed)),t.\u0275\u0275attribute("aria-label",e.menuButtonLabel)}}function z(n,o){1&n&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"svg",24))}function Q(n,o){1&n&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"svg",25))}function G(n,o){1&n&&t.\u0275\u0275projection(0,0,["*ngIf","!menuIsClosed"])}function J(n,o){1&n&&t.\u0275\u0275element(0,"hr",26)}function Y(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(e.helperText)}}function X(n,o){}function Z(n,o){if(1&n&&t.\u0275\u0275template(0,X,0,0,"ng-template",17),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngTemplateOutlet",e.helperText)}}function q(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",27),t.\u0275\u0275template(1,Y,2,1,"ng-container",7)(2,Z,1,1,null,7),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(3,I,e.disabled)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!e.isTemplate(e.helperText)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.isTemplate(e.helperText))}}function ee(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(e.invalidText)}}function te(n,o){}function ie(n,o){if(1&n&&t.\u0275\u0275template(0,te,0,0,"ng-template",17),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngTemplateOutlet",e.invalidText)}}function ne(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",28),t.\u0275\u0275template(1,ee,2,1,"ng-container",7)(2,ie,1,1,null,7),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!e.isTemplate(e.invalidText)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.isTemplate(e.invalidText))}}function se(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(e.warnText)}}function le(n,o){}function oe(n,o){if(1&n&&t.\u0275\u0275template(0,le,0,0,"ng-template",17),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngTemplateOutlet",e.warnText)}}function re(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",28),t.\u0275\u0275template(1,se,2,1,"ng-container",7)(2,oe,1,1,null,7),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!e.isTemplate(e.warnText)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",e.isTemplate(e.warnText))}}const ae=["list"],de=["listItem"],ce=(n,o)=>({"cds--list-box__menu-item--active":n,"cds--list-box__menu-item--highlighted":o}),pe=n=>({item:n});function he(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",9)(1,"label",10),t.\u0275\u0275element(2,"input",11)(3,"span",12),t.\u0275\u0275elementStart(4,"span",13),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(),t.\u0275\u0275attribute("data-contained-checkbox-state",e.selected),t.\u0275\u0275advance(),t.\u0275\u0275property("checked",e.selected)("disabled",e.disabled),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.content)}}function ue(n,o){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(e.content)}}function fe(n,o){1&n&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"svg",14))}function me(n,o){}function ge(n,o){if(1&n&&t.\u0275\u0275template(0,me,0,0,"ng-template",15),2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,pe,e))("ngTemplateOutlet",i.listTpl)}}function _e(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",4),t.\u0275\u0275listener("click",function(s){const l=t.\u0275\u0275restoreView(e).$implicit,h=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(h.doClick(s,l))}),t.\u0275\u0275elementStart(1,"div",5,1),t.\u0275\u0275template(3,he,6,4,"div",6)(4,ue,2,1,"ng-container",7)(5,fe,1,0,"svg",8)(6,ge,1,4,null,7),t.\u0275\u0275elementEnd()()}if(2&n){const e=o.$implicit,i=o.index,s=t.\u0275\u0275nextContext();t.\u0275\u0275property("id",s.getItemId(i))("ngClass",t.\u0275\u0275pureFunction2(9,ce,e.selected,s.highlightedItem===s.getItemId(i))),t.\u0275\u0275attribute("aria-selected",e.selected)("title",s.showTitles?e.content:null)("disabled",!!e.disabled||null),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!s.listTpl&&"multi"===s.type),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!s.listTpl&&"single"===s.type),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!s.listTpl&&"single"===s.type),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",s.listTpl)}}let V=(()=>{class n{constructor(){this.type="single",this.size="md"}set items(e){}get items(){}getNextItem(){}hasNextElement(){}getNextElement(){}getPrevItem(){}hasPrevElement(){}getPrevElement(){}getSelected(){}getCurrentItem(){}getCurrentElement(){}getListItems(){}propagateSelected(e){}filterBy(e){}initFocus(){}onItemsReady(e){}reorderSelected(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.\u0275\u0275defineDirective({type:n,selectors:[["","cdsAbstractDropdownView",""],["","ibmAbstractDropdownView",""]],inputs:{items:"items"},outputs:{select:"select",blurIntent:"blurIntent"}}),n})();const F={top:0,left:0};let U=(()=>{class n{constructor(e,i){this.placeholderService=e,this.animationFrameService=i,this.animationFrameSubscription=new m.Subscription,this._offset=F}set offset(e){this._offset=Object.assign({},F,e)}get offset(){return this._offset}appendToBody(e,i,s){i.style.display="block";const l=document.createElement("div");return l.className=`dropdown ${s}`,l.style.width=e.offsetWidth+"px",l.style.position="absolute",l.appendChild(i),this.placeholderService.hasPlaceholderRef()?this.placeholderService.appendElement(l):document.body.appendChild(l),this.menuInstance=l,this.animationFrameSubscription=this.animationFrameService.tick.subscribe(()=>{this.positionDropdown(e,l)}),this.positionDropdown(e,l),l}appendToDropdown(e){if(!this.menuInstance)return;const i=this.menuInstance,s=i.firstElementChild;return this.menuInstance=null,s.style.display="none",e.appendChild(s),this.animationFrameSubscription.unsubscribe(),this.placeholderService.hasPlaceholderRef()&&this.placeholderService.hasElement(i)?this.placeholderService.removeElement(i):document.body.contains(i)&&document.body.removeChild(i),i}updatePosition(e){this.positionDropdown(e,this.menuInstance)}ngOnDestroy(){this.animationFrameSubscription.unsubscribe()}positionDropdown(e,i){if(!i)return;let s=0;const l=i.querySelector(".cds--list-box__menu");l&&(e.getBoundingClientRect().left!==l.getBoundingClientRect().left?e.getBoundingClientRect().left-l.getBoundingClientRect().left+l.getBoundingClientRect().right>(window.innerWidth||document.documentElement.clientWidth)&&(s=e.offsetWidth-l.offsetWidth):l.getBoundingClientRect().right>(window.innerWidth||document.documentElement.clientWidth)&&(s=e.offsetWidth-l.offsetWidth));const h=(0,y.closestAttr)("position",["relative","fixed","absolute"],i.parentElement),S=h?-1*h.getBoundingClientRect().top:this.offset.top,k=h?-1*h.getBoundingClientRect().left:this.offset.left+s;let L=E.G1.findAbsolute(e,i,"bottom");L=E.G1.addOffset(L,S,k),E.G1.setElement(i,L)}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275inject(O.PlaceholderService),t.\u0275\u0275inject(y.AnimationFrameService))},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n{constructor(e,i,s,l){this.elementRef=e,this.i18n=i,this.dropdownService=s,this.elementService=l,this.id="dropdown-"+n.dropdownCount++,this.hideLabel=!1,this.placeholder="",this.displayValue="",this.clearText=this.i18n.get().DROPDOWN.CLEAR,this.size="md",this.type="single",this.theme="dark",this.disabled=!1,this.readonly=!1,this.skeleton=!1,this.inline=!1,this.disableArrowKeys=!1,this.invalid=!1,this.warn=!1,this.appendInline=null,this.selectionFeedback="top-after-reopen",this.menuButtonLabel=this.i18n.get().DROPDOWN.OPEN,this.selectedLabel=this.i18n.get().DROPDOWN.SELECTED,this.selected=new t.EventEmitter,this.onClose=new t.EventEmitter,this.close=new t.EventEmitter,this.hostClass=!0,this.hostWrapperClass=!0,this.fluid=!1,this.menuIsClosed=!0,this._dropUp=!1,this.noop=this._noop.bind(this),this.outsideClick=this._outsideClick.bind(this),this.outsideKey=this._outsideKey.bind(this),this.keyboardNav=this._keyboardNav.bind(this),this.visibilitySubscription=new m.Subscription,this.onTouchedCallback=this._noop,this._isFocused=!1,this._writtenValue=[],this.propagateChange=h=>{}}get fluidInvalidClass(){return this.invalid&&this.fluid}get fluidFocusClass(){return this.fluid&&this._isFocused&&this.menuIsClosed}get writtenValue(){return this._writtenValue}set writtenValue(e){e&&0===e.length&&this.clearSelected(),this._writtenValue=e}ngOnInit(){this.view&&(this.view.type=this.type)}ngAfterContentInit(){if(!this.view)return;(this.writtenValue&&this.writtenValue.length||"number"==typeof this.writtenValue)&&this.writeValue(this.writtenValue),this.view.type=this.type,this.view.size=this.size;const e=i=>i&&i.isUpdate;this.view.select.subscribe(i=>{if("single"===this.type&&!e(i)&&!Array.isArray(i)&&(this.closeMenu(),this.propagateChange(i.item&&i.item.selected?this.itemValueKey?i.item[this.itemValueKey]:i.item:null)),"multi"===this.type&&!e(i))if(this.itemValueKey&&this.view.getSelected()){const s=this.view.getSelected().map(l=>l[this.itemValueKey]);this.propagateChange(s)}else this.propagateChange(this.view.getSelected());e(i)||(this.checkForReorder(),this.selected.emit(i))})}ngAfterViewInit(){null===this.appendInline&&(0,y.hasScrollableParents)(this.elementRef.nativeElement)?this.appendInline=!1:null===this.appendInline&&(this.appendInline=!0),this.checkForReorder()}ngOnDestroy(){this.appendInline||this._appendToDropdown()}writeValue(e){this.writtenValue=e,this.view.onItemsReady(()=>{if(e)if("single"===this.type)if(this.itemValueKey){const i=Object.assign({},this.view.getListItems().find(s=>s[this.itemValueKey]===e));i.selected=!0,this.view.propagateSelected([i])}else this.view.propagateSelected([e]);else if(this.itemValueKey){let i=[];for(const s of e)for(const l of this.view.getListItems())l[this.itemValueKey]===s&&i.push(Object.assign({},l,{selected:!0}));this.view.propagateSelected(i)}else this.view.propagateSelected(e);else this.view.propagateSelected([e]);this.checkForReorder()})}onBlur(){this.onTouchedCallback()}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}onKeyDown(e){if(!this.readonly){if("Escape"===e.key&&!this.menuIsClosed&&e.stopImmediatePropagation(),"Escape"===e.key)e.preventDefault(),this.closeMenu(),this.dropdownButton.nativeElement.focus();else if(this.menuIsClosed&&(" "===e.key||"ArrowDown"===e.key||"ArrowUp"===e.key)){if(this.disableArrowKeys&&("ArrowDown"===e.key||"ArrowUp"===e.key))return;e.preventDefault(),this.openMenu()}!this.menuIsClosed&&"Tab"===e.key&&this.dropdownMenu.nativeElement.contains(e.target)&&this.closeMenu(),!this.menuIsClosed&&"Tab"===e.key&&e.shiftKey&&this.closeMenu(),"multi"!==this.type&&this.menuIsClosed&&this.closedDropdownNavigation(e)}}closedDropdownNavigation(e){if("ArrowDown"===e.key){e.preventDefault(),this.view.getCurrentItem().selected=!1;let i=this.view.getNextItem();i&&(i.selected=!0)}else if("ArrowUp"===e.key){e.preventDefault(),this.view.getCurrentItem().selected=!1;let i=this.view.getPrevItem();i&&(i.selected=!0)}}getDisplayStringValue(){if(!this.view||this.skeleton)return;let e=this.view.getSelected();return!e.length||this.displayValue&&this.isRenderString()?e.length&&this.isRenderString()?(0,m.of)(this.displayValue):(0,m.of)(this.placeholder):(0,m.of)("multi"===this.type?this.placeholder:e[0].content)}isRenderString(){return"string"==typeof this.displayValue}getRenderTemplateContext(){if(!this.view)return;let e=this.view.getSelected();return"multi"===this.type?{items:e}:e&&e.length>0?{item:e[0]}:{}}getSelectedCount(){if(this.view.getSelected())return this.view.getSelected().length}clearSelected(){if(!this.disabled&&0!==this.getSelectedCount()){for(const e of this.view.getListItems())e.selected=!1;this.selected.emit([]),this.propagateChange([])}}valueSelected(){return!!this.view.getSelected()}_noop(){}_outsideClick(e){!this.elementRef.nativeElement.contains(e.target)&&!this.dropdownMenu.nativeElement.contains(e.target)&&this.closeMenu()}_outsideKey(e){!this.menuIsClosed&&"Tab"===e.key&&this.dropdownMenu.nativeElement.contains(e.target)&&this.closeMenu()}_keyboardNav(e){"Escape"===e.key&&!this.menuIsClosed&&e.stopImmediatePropagation(),"Escape"===e.key?(e.preventDefault(),this.closeMenu(),this.dropdownButton.nativeElement.focus()):!this.menuIsClosed&&"Tab"===e.key&&(this.dropdownButton.nativeElement.focus(),this.dropdownButton.nativeElement.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Tab"})),this.closeMenu())}_appendToDropdown(){this.dropdownService.appendToDropdown(this.elementRef.nativeElement),this.dropdownMenu.nativeElement.removeEventListener("keydown",this.keyboardNav,!0)}_appendToBody(){this.dropdownService.appendToBody(this.dropdownButton.nativeElement,this.dropdownMenu.nativeElement,`${this.elementRef.nativeElement.className}${"light"===this.theme?" cds--list-box--light":""}${this.menuIsClosed?"":" cds--list-box--expanded"}`),this.dropdownMenu.nativeElement.addEventListener("keydown",this.keyboardNav,!0)}_shouldDropUp(){const e=this.dropdownMenu&&this.dropdownMenu.nativeElement.querySelector(".cds--list-box__menu"),i=e&&e.getBoundingClientRect();return!(!e||!i)&&(0,y.getScrollableParents)(e).reduce((l,h)=>{const S=h.getBoundingClientRect();return l||!(i.bottom<=S.bottom)},!1)}openMenu(){0!==this.view.getListItems().length&&(this._dropUp=!1,this.menuIsClosed=!1,this.appendInline||(this.visibilitySubscription=this.elementService.visibility(this.dropdownButton.nativeElement,this.elementRef.nativeElement).subscribe(s=>{s.visible||this.closeMenu()}),this._appendToBody()),setTimeout(()=>{null==this.dropUp&&(this._dropUp=this._shouldDropUp())},0),document.body.firstElementChild.addEventListener("click",this.noop,!0),document.body.firstElementChild.addEventListener("keydown",this.noop,!0),document.addEventListener("click",this.outsideClick,!0),document.addEventListener("keydown",this.outsideKey,!0),setTimeout(()=>this.view.initFocus(),0))}closeMenu(){this.menuIsClosed||(this.menuIsClosed=!0,this.checkForReorder(),this.onClose.emit(),this.close.emit(),this.dropdownButton.nativeElement.focus(),this.view.disableScroll&&this.view.disableScroll(),this.appendInline||(this.visibilitySubscription.unsubscribe(),this._appendToDropdown()),document.body.firstElementChild.removeEventListener("click",this.noop,!0),document.body.firstElementChild.removeEventListener("keydown",this.noop,!0),document.removeEventListener("click",this.outsideClick,!0),document.removeEventListener("keydown",this.outsideKey,!0))}toggleMenu(){this.menuIsClosed?this.openMenu():this.closeMenu()}isTemplate(e){return e instanceof t.TemplateRef}handleFocus(e){this._isFocused="focus"===e.type,"blur"===e.type&&this.onBlur()}checkForReorder(){"multi"===this.type&&(this.menuIsClosed&&"top-after-reopen"===this.selectionFeedback||"top"===this.selectionFeedback)&&this.view.reorderSelected()}}return n.dropdownCount=0,n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(C.I18n),t.\u0275\u0275directiveInject(U),t.\u0275\u0275directiveInject(y.ElementService))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["cds-dropdown"],["ibm-dropdown"]],contentQueries:function(e,i,s){if(1&e&&t.\u0275\u0275contentQuery(s,V,7),2&e){let l;t.\u0275\u0275queryRefresh(l=t.\u0275\u0275loadQuery())&&(i.view=l.first)}},viewQuery:function(e,i){if(1&e&&(t.\u0275\u0275viewQuery(p,7),t.\u0275\u0275viewQuery(c,7)),2&e){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(i.dropdownButton=s.first),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(i.dropdownMenu=s.first)}},hostVars:10,hostBindings:function(e,i){1&e&&t.\u0275\u0275listener("keydown",function(l){return i.onKeyDown(l)}),2&e&&t.\u0275\u0275classProp("cds--list-box__wrapper--fluid--invalid",i.fluidInvalidClass)("cds--list-box__wrapper--fluid--focus",i.fluidFocusClass)("cds--dropdown__wrapper",i.hostClass)("cds--list-box__wrapper",i.hostWrapperClass)("cds--list-box__wrapper--fluid",i.fluid)},inputs:{id:"id",label:"label",hideLabel:"hideLabel",helperText:"helperText",placeholder:"placeholder",displayValue:"displayValue",clearText:"clearText",size:"size",type:"type",theme:"theme",disabled:"disabled",readonly:"readonly",skeleton:"skeleton",inline:"inline",disableArrowKeys:"disableArrowKeys",invalid:"invalid",invalidText:"invalidText",warn:"warn",warnText:"warnText",appendInline:"appendInline",scrollableContainer:"scrollableContainer",itemValueKey:"itemValueKey",selectionFeedback:"selectionFeedback",menuButtonLabel:"menuButtonLabel",selectedLabel:"selectedLabel",dropUp:"dropUp",fluid:"fluid"},outputs:{selected:"selected",onClose:"onClose",close:"close"},features:[t.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:n,multi:!0}])],ngContentSelectors:u,decls:19,vars:43,consts:[["dropdownButton",""],["dropdownMenu",""],["class","cds--label",3,"for","ngClass",4,"ngIf"],[1,"cds--list-box",3,"ngClass"],["class","cds--list-box__label",4,"ngIf"],["type","button","aria-haspopup","listbox",1,"cds--list-box__field",3,"click","focus","blur","id","ngClass"],["class","cds--list-box__selection cds--tag--filter cds--list-box__selection--multi","tabindex","0",3,"title","click","keydown.enter",4,"ngIf"],[4,"ngIf"],[1,"cds--list-box__menu-icon"],["cdsIcon","chevron--down","size","16",3,"ngClass",4,"ngIf"],["class","cds--list-box__invalid-icon","cdsIcon","warning--filled","size","16",4,"ngIf"],["cdsIcon","warning--alt--filled","size","16","class","cds--list-box__invalid-icon cds--list-box__invalid-icon--warning",4,"ngIf"],[3,"ngClass"],["class","cds--list-box__divider",4,"ngIf"],["class","cds--form__helper-text",3,"ngClass",4,"ngIf"],["class","cds--form-requirement",4,"ngIf"],[1,"cds--label",3,"for","ngClass"],[3,"ngTemplateOutlet"],[1,"cds--list-box__label"],["tabindex","0",1,"cds--list-box__selection","cds--tag--filter","cds--list-box__selection--multi",3,"click","keydown.enter","title"],["focusable","false","preserveAspectRatio","xMidYMid meet","role","img","xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 16 16","aria-hidden","true",2,"will-change","transform"],["d","M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],["cdsIcon","chevron--down","size","16",3,"ngClass"],["cdsIcon","warning--filled","size","16",1,"cds--list-box__invalid-icon"],["cdsIcon","warning--alt--filled","size","16",1,"cds--list-box__invalid-icon","cds--list-box__invalid-icon--warning"],[1,"cds--list-box__divider"],[1,"cds--form__helper-text",3,"ngClass"],[1,"cds--form-requirement"]],template:function(e,i){if(1&e){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,P,3,7,"label",2),t.\u0275\u0275elementStart(1,"div",3),t.\u0275\u0275template(2,R,1,0,"div",4),t.\u0275\u0275elementStart(3,"button",5,0),t.\u0275\u0275listener("click",function(h){return t.\u0275\u0275restoreView(s),t.\u0275\u0275resetView(i.disabled||i.readonly?h.stopPropagation():i.toggleMenu())})("focus",function(h){return t.\u0275\u0275restoreView(s),t.\u0275\u0275resetView(i.fluid?i.handleFocus(h):null)})("blur",function(h){return t.\u0275\u0275restoreView(s),t.\u0275\u0275resetView(i.fluid?i.handleFocus(h):i.onBlur())}),t.\u0275\u0275template(5,A,4,2,"div",6)(6,W,3,3,"span",4)(7,j,1,2,null,7),t.\u0275\u0275elementStart(8,"span",8),t.\u0275\u0275template(9,$,1,4,"svg",9),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(10,z,1,0,"svg",10)(11,Q,1,0,"svg",11),t.\u0275\u0275elementStart(12,"div",12,1),t.\u0275\u0275template(14,G,1,0,"ng-content",7),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(15,J,1,0,"hr",13)(16,q,3,5,"div",14)(17,ne,3,2,"div",15)(18,re,3,2,"div",15)}2&e&&(t.\u0275\u0275property("ngIf",i.label&&!i.skeleton),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunctionV(22,g,["multi"!==i.type&&!(i.skeleton&&i.fluid),"multi"===i.type,"multi"===i.type&&i.getSelectedCount()>0,"light"===i.theme,"light"===i.theme,i.inline,i.skeleton,i.disabled,i.readonly,i.invalid,i.warn,"sm"===i.size,"md"===i.size,"lg"===i.size,!i.menuIsClosed,i.invalid])),t.\u0275\u0275attribute("data-invalid",!!i.invalid||null),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.skeleton&&i.fluid),t.\u0275\u0275advance(),t.\u0275\u0275property("id",i.id)("ngClass",t.\u0275\u0275pureFunction1(39,D,!i.menuIsClosed)),t.\u0275\u0275attribute("aria-expanded",!i.menuIsClosed)("aria-disabled",i.disabled)("aria-readonly",i.readonly)("disabled",!!i.disabled||null),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","multi"===i.type&&i.getSelectedCount()>0),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.isRenderString()),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!i.isRenderString()),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!i.skeleton),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.invalid),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!i.invalid&&i.warn),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(41,b,null!=i.dropUp?i.dropUp:i._dropUp)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!i.menuIsClosed),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.fluid),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.helperText&&!i.invalid&&!i.warn&&!i.skeleton&&!i.fluid),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.invalid),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!i.invalid&&i.warn))},dependencies:[d.NgClass,d.NgIf,d.NgTemplateOutlet,r.IconDirective,d.AsyncPipe],encapsulation:2}),n})(),ye=(()=>{class n{constructor(e,i,s){this.elementRef=e,this.i18n=i,this.appRef=s,this.ariaLabel=this.i18n.get().DROPDOWN_LIST.LABEL,this.listTpl=null,this.select=new t.EventEmitter,this.scroll=new t.EventEmitter,this.blurIntent=new t.EventEmitter,this.type="single",this.showTitles=!0,this.size="md",this.listId="listbox-"+n.listCount++,this.highlightedItem=null,this.displayItems=[],this.index=-1,this._items=[]}set items(e){(0,m.isObservable)(e)?(this._itemsSubscription&&this._itemsSubscription.unsubscribe(),this._itemsReady=new m.Observable(i=>{this._itemsSubscription=e.subscribe(s=>{this.updateList(s),i.next(!0),i.complete()})}),this.onItemsReady(null)):this.updateList(e),this._originalItems=e}get items(){return this._originalItems}ngAfterViewInit(){this.index=this.getListItems().findIndex(e=>e.selected),this.setupFocusObservable(),setTimeout(()=>{this.doEmitSelect(!0)})}ngOnDestroy(){this.focusJump&&this.focusJump.unsubscribe(),this._itemsSubscription&&this._itemsSubscription.unsubscribe()}doEmitSelect(e=!0){if("single"===this.type)this.select.emit({item:this._items.find(i=>i.selected),isUpdate:e});else{const i=this.getSelected()||[];i.isUpdate=e,this.select.emit(i)}}getItemId(e){return`${this.listId}-${e}`}updateList(e){this._items=e.map(i=>Object.assign({},i)),this.displayItems=this._items,this.updateIndex(),this.setupFocusObservable(),this.doEmitSelect()}filterBy(e=""){e?(this.displayItems=this.getListItems().filter(i=>i.content.toLowerCase().includes(e.toLowerCase())),this.displayItems&&(this.index=0)):this.displayItems=this.getListItems(),this.updateIndex()}setupFocusObservable(){if(!this.list)return;this.focusJump&&this.focusJump.unsubscribe();let e=Array.from(this.list.nativeElement.querySelectorAll("li"));this.focusJump=function ve(n,o){return(0,m.fromEvent)(n,"keydown").pipe((0,a.debounceTime)(150),(0,a.map)(e=>{let i=o.find(s=>s.textContent.trim().toLowerCase().startsWith(e.key));if(i)return i}),(0,a.filter)(e=>!!e))}(this.list.nativeElement,e).subscribe(i=>{i.focus()})}getNextItem(){return this.index<this.displayItems.length-1&&this.index++,this.displayItems[this.index]}hasNextElement(){return this.index<this.displayItems.length-1&&(this.index!==this.displayItems.length-2||!this.displayItems[this.index+1].disabled)}getNextElement(){const e=this.listElementList?this.listElementList.toArray():[];if(!e.length)return null;for(let i=this.index+1;i<e.length;i++)if(!this.displayItems[i].disabled)return this.index=i,e[i].nativeElement;return e[this.index]?.nativeElement}getPrevItem(){return this.index>0&&this.index--,this.displayItems[this.index]}hasPrevElement(){return this.index>0&&(1!==this.index||!this.displayItems[0].disabled)}getPrevElement(){const e=this.listElementList?this.listElementList.toArray():[];if(!e.length)return null;for(let i=this.index-1;i<this.index&&i>=0;i--)if(!this.displayItems[i].disabled)return this.index=i,e[i].nativeElement;return e[this.index].nativeElement}getCurrentItem(){return this.index<0?this.displayItems[0]:this.displayItems[this.index]}getCurrentElement(){return this.index<0?this.listElementList.first.nativeElement:this.listElementList.toArray()[this.index].nativeElement}getListItems(){return this._items}getSelected(){let e=this.getListItems().filter(i=>i.selected);return 0===e.length?[]:e}propagateSelected(e){Array.isArray(e)||console.error(`${this.constructor.name}.propagateSelected expects an Array<ListItem>, got ${JSON.stringify(e)}`),this.onItemsReady(()=>{const i=[];for(let s of e)if(s&&s.selected){let l=Object.assign({},s);delete l.selected,l=JSON.stringify(l),i.push(l)}for(let s of this.getListItems()){if(0===i.length){s.selected=!1;continue}let l=Object.assign({},s);delete l.selected,l=JSON.stringify(l);for(let h of i){if(l.includes(h)){s.selected=!0;break}s.selected=!1}}})}initFocus(){this.index<0&&this.updateIndex(),this.list.nativeElement.focus(),setTimeout(()=>{this.highlightedItem=this.getItemId(this.index)})}updateIndex(){const e=this.getSelected();e.length?this.index=this.displayItems.indexOf(e[0]):this.hasNextElement()&&this.getNextElement()}navigateList(e){"Enter"===e.key||" "===e.key?(this.listElementList.some(i=>i.nativeElement===e.target)&&e.preventDefault(),"Enter"===e.key&&this.doClick(e,this.getCurrentItem())):("ArrowDown"===e.key||"ArrowUp"===e.key)&&(e.preventDefault(),"ArrowDown"===e.key?this.hasNextElement()?this.getNextElement()?.scrollIntoView({block:"end"}):this.blurIntent.emit("bottom"):"ArrowUp"===e.key&&(this.hasPrevElement()?this.getPrevElement().scrollIntoView({block:"nearest"}):this.blurIntent.emit("top")),setTimeout(()=>{this.highlightedItem=this.getItemId(this.index)}))}doClick(e,i){if(e.preventDefault(),i&&!i.disabled){if(this.list.nativeElement.focus(),"single"===this.type){i.selected=!0;for(let s of this.getListItems())i!==s&&(s.selected=!1)}else i.selected=!i.selected;this.index=this.displayItems.indexOf(i),this.highlightedItem=this.getItemId(this.index),this.doEmitSelect(!1),this.appRef.tick()}}onItemFocus(e){const i=this.listElementList.toArray()[e].nativeElement;i.classList.add("cds--list-box__menu-item--highlighted"),i.tabIndex=0}onItemBlur(e){const i=this.listElementList.toArray()[e].nativeElement;i.classList.remove("cds--list-box__menu-item--highlighted"),i.tabIndex=-1}emitScroll(e){this.scroll.emit({atTop:0===e.srcElement.scrollTop,atBottom:e.srcElement.scrollHeight-e.srcElement.scrollTop===e.srcElement.clientHeight,event:e})}onItemsReady(e){(this._itemsReady||(0,m.of)(!0)).pipe((0,a.first)()).subscribe(e)}reorderSelected(e=!0){this.displayItems=[...this.getSelected(),...this.getListItems().filter(i=>!i.selected)],e&&setTimeout(()=>{this.updateIndex(),this.highlightedItem=this.getItemId(this.index)})}}return n.listCount=0,n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(C.I18n),t.\u0275\u0275directiveInject(t.ApplicationRef))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["cds-dropdown-list"],["ibm-dropdown-list"]],viewQuery:function(e,i){if(1&e&&(t.\u0275\u0275viewQuery(ae,7),t.\u0275\u0275viewQuery(de,5)),2&e){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(i.list=s.first),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(i.listElementList=s)}},inputs:{ariaLabel:"ariaLabel",items:"items",listTpl:"listTpl",type:"type",showTitles:"showTitles"},outputs:{select:"select",scroll:"scroll",blurIntent:"blurIntent"},features:[t.\u0275\u0275ProvidersFeature([{provide:V,useExisting:n}])],decls:3,vars:4,consts:[["list",""],["listItem",""],["role","listbox","tabindex","-1",1,"cds--list-box__menu","cds--multi-select",3,"scroll","keydown","id"],["role","option","class","cds--list-box__menu-item",3,"id","ngClass","click",4,"ngFor","ngForOf"],["role","option",1,"cds--list-box__menu-item",3,"click","id","ngClass"],["tabindex","-1",1,"cds--list-box__menu-item__option"],["class","cds--form-item cds--checkbox-wrapper",4,"ngIf"],[4,"ngIf"],["cdsIcon","checkmark","size","16","class","cds--list-box__menu-item__selected-icon",4,"ngIf"],[1,"cds--form-item","cds--checkbox-wrapper"],[1,"cds--checkbox-label"],["type","checkbox","tabindex","-1",1,"cds--checkbox",3,"checked","disabled"],[1,"cds--checkbox-appearance"],[1,"cds--checkbox-label-text"],["cdsIcon","checkmark","size","16",1,"cds--list-box__menu-item__selected-icon"],[3,"ngTemplateOutletContext","ngTemplateOutlet"]],template:function(e,i){if(1&e){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ul",2,0),t.\u0275\u0275listener("scroll",function(h){return t.\u0275\u0275restoreView(s),t.\u0275\u0275resetView(i.emitScroll(h))})("keydown",function(h){return t.\u0275\u0275restoreView(s),t.\u0275\u0275resetView(i.navigateList(h))}),t.\u0275\u0275template(2,_e,7,12,"li",3),t.\u0275\u0275elementEnd()}2&e&&(t.\u0275\u0275property("id",i.listId),t.\u0275\u0275attribute("aria-label",i.ariaLabel)("aria-activedescendant",i.highlightedItem),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",i.displayItems))},dependencies:[d.NgClass,d.NgForOf,d.NgIf,d.NgTemplateOutlet,r.IconDirective],encapsulation:2}),n})(),be=(()=>{class n{constructor(e){this.elementRef=e,this.nScrollableList=null,this.scrollEnabled=!0,this.scrollBy=10,this.canScrollUp=!1,this.canScrollDown=!1,this.list=this.elementRef.nativeElement}ngOnChanges(e){e.scrollEnabled&&(e.scrollEnabled.currentValue?(this.list.style.overflow="hidden",this.scrollUpTarget.style.display="flex",this.scrollDownTarget.style.display="flex",this.canScrollUp=!0,this.canScrollDown=!0,this.updateScrollHeight(),this.checkScrollArrows(),setTimeout(()=>{this.checkScrollArrows()})):(this.scrollUpTarget.style.display="none",this.scrollDownTarget.style.display="none",this.canScrollUp=!1,this.canScrollDown=!1,this.list.style.height=null,this.list.style.overflow=null,clearInterval(this.hoverScrollInterval)))}ngAfterViewInit(){this.nScrollableList&&(this.list=this.elementRef.nativeElement.querySelector(this.nScrollableList)),this.scrollUpTarget.addEventListener("mouseover",()=>this.onHoverUp(!0)),this.scrollUpTarget.addEventListener("mouseout",()=>this.onHoverUp(!1)),this.scrollDownTarget.addEventListener("mouseover",()=>this.onHoverDown(!0)),this.scrollDownTarget.addEventListener("mouseout",()=>this.onHoverDown(!1))}updateScrollHeight(){if(this.scrollEnabled){const i=this.elementRef.nativeElement.parentElement.getBoundingClientRect(),s=this.list.getBoundingClientRect().top-i.top,h=i.height-(i.bottom-window.innerHeight)-s-40;this.list.style.height=`${h}px`}}checkScrollArrows(){const e=this.scrollUpTarget.offsetHeight,i=this.scrollDownTarget.offsetHeight;0===this.list.scrollTop?(this.canScrollUp&&(this.list.style.height=`${parseInt(this.list.style.height,10)+e}px`),this.scrollUpTarget.style.display="none",this.canScrollUp=!1):this.list.scrollTop===this.list.scrollTopMax?(this.canScrollDown&&(this.list.style.height=`${parseInt(this.list.style.height,10)+i}px`),this.scrollDownTarget.style.display="none",this.canScrollDown=!1):(this.canScrollUp||(this.list.style.height=parseInt(this.list.style.height,10)-e+"px"),this.canScrollDown||(this.list.style.height=parseInt(this.list.style.height,10)-i+"px"),this.scrollUpTarget.style.display="flex",this.scrollDownTarget.style.display="flex",this.canScrollUp=!0,this.canScrollDown=!0)}onWheel(e){e.deltaY<0?this.list.scrollTop-=this.scrollBy:this.list.scrollTop+=this.scrollBy,this.list.scrollTop===this.list.scrollTopMax||0===this.list.scrollTop||(e.preventDefault(),e.stopPropagation()),this.checkScrollArrows()}onTouchStart(e){e.touches[0]&&(this.lastTouch=e.touches[0].clientY)}onTouchMove(e){if(e.preventDefault(),e.stopPropagation(),e.touches[0]){const i=e.touches[0];this.list.scrollTop+=this.lastTouch-i.clientY,this.lastTouch=i.clientY,this.checkScrollArrows()}}hoverScrollBy(e,i){e?this.hoverScrollInterval=setInterval(()=>{this.list.scrollTop+=i,this.checkScrollArrows()},1):clearInterval(this.hoverScrollInterval)}onHoverUp(e){this.hoverScrollBy(e,-3)}onHoverDown(e){this.hoverScrollBy(e,3)}onKeyDown(e){("ArrowDown"===e.key||"ArrowUp"===e.key)&&this.checkScrollArrows()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(t.ElementRef))},n.\u0275dir=t.\u0275\u0275defineDirective({type:n,selectors:[["","cdsScrollableList",""],["","ibmScrollableList",""]],hostBindings:function(e,i){1&e&&t.\u0275\u0275listener("wheel",function(l){return i.onWheel(l)})("touchstart",function(l){return i.onTouchStart(l)})("touchmove",function(l){return i.onTouchMove(l)})("keydown",function(l){return i.onKeyDown(l)})},inputs:{nScrollableList:"nScrollableList",scrollEnabled:"scrollEnabled",scrollUpTarget:"scrollUpTarget",scrollDownTarget:"scrollDownTarget",scrollBy:"scrollBy"},exportAs:["scrollable-list"],features:[t.\u0275\u0275NgOnChangesFeature]}),n})(),Ie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({providers:[U],imports:[d.CommonModule,v.FormsModule,C.I18nModule,O.PlaceholderModule,y.UtilsModule,r.IconModule]}),n})()}}]);