(self.webpackChunkceph_dashboard=self.webpackChunkceph_dashboard||[]).push([[7650],{95269:(G,y,a)=>{a.r(y),a.d(y,{AlertModal:()=>T,AlertModalType:()=>F,BaseModal:()=>S,BaseModalService:()=>m,Modal:()=>D,ModalButtonType:()=>B,ModalContent:()=>I,ModalContentText:()=>K,ModalFooter:()=>H,ModalHeader:()=>w,ModalHeaderHeading:()=>L,ModalHeaderLabel:()=>O,ModalModule:()=>U,ModalService:()=>j,Overlay:()=>E});var e=a(87536),d=a(91974),g=a(59786),v=a(71668),M=a(50619),_=a(28110),C=a(65530),b=a(98920),P=a(786);const A=["overlay"],u=["*"],V=(o,l)=>({"cds--modal--danger":o,"is-visible":l}),k=["modal"],z=(o,l,t,n)=>({"cds--modal-container--xs":o,"cds--modal-container--sm":l,"cds--modal-container--md":t,"cds--modal-container--lg":n});function x(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"cds-icon-button",2),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onClose())}),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(1,"svg",3),e.\u0275\u0275elementEnd()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("buttonNgClass",t.buttonNgClass)("buttonAttributes",t.buttonAttributes)("description",t.closeLabel)}}const R=["modalContent"];function N(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",9),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).index,i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.buttonClicked(s))}),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&o){const t=l.$implicit;e.\u0275\u0275advance(),e.\u0275\u0275property("cdsButton",t.type)("id",t.id),e.\u0275\u0275attribute("modal-primary-focus",-1!==t.type.indexOf("primary")?"":null),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",t.text," ")}}function Q(o,l){if(1&o&&(e.\u0275\u0275elementStart(0,"cds-modal-footer"),e.\u0275\u0275template(1,N,3,4,"ng-container",8),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",t.buttons)}}let S=(()=>{class o{constructor(){this.close=new e.EventEmitter,this.open=!1}closeModal(){this.close.emit()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=e.\u0275\u0275defineDirective({type:o,selectors:[["","cdsBaseModal",""],["","ibmBaseModal",""]],inputs:{open:"open"},outputs:{close:"close"}}),o})(),m=(()=>{class o{constructor(t){this.placeholderService=t}create(t){t=Object.assign({},{inputs:{}},t);const s=Object.keys(t.inputs).map(c=>({provide:c,useValue:t.inputs[c]})),i=e.Injector.create({providers:s}),r=this.placeholderService.createComponent(t.component,i);let f=document.activeElement;return setTimeout(()=>{r.instance.open=!0}),r.previouslyFocusedElement=f,r.instance.close.pipe((0,M.tap)(()=>{r.instance.open=!1}),(0,M.delay)(240)).subscribe(()=>{this.placeholderService.destroyComponent(r),o.modalList=o.modalList.filter(c=>c!==r)}),r.onDestroy(()=>{f.focus()}),o.modalList.push(r),r}destroy(t=-1){t>=o.modalList.length||0===o.modalList.length||(t<0&&(t=o.modalList.length-1),setTimeout(()=>{o.modalList[t]&&(this.placeholderService.destroyComponent(o.modalList[t]),o.modalList.splice(t,1))},240))}}return o.modalList=[],o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275inject(_.PlaceholderService))},o.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})(),E=(()=>{class o{constructor(){this.theme="default",this.open=!1,this.overlaySelect=new e.EventEmitter}overlayClick(t){t.target===this.overlay.nativeElement&&(t.stopPropagation(),this.overlaySelect.emit(t))}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["cds-overlay"],["ibm-overlay"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(A,7),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.overlay=s.first)}},inputs:{theme:"theme",open:"open"},outputs:{overlaySelect:"overlaySelect"},ngContentSelectors:u,decls:3,vars:4,consts:[["overlay",""],[1,"cds--modal","cds--modal-tall",3,"click","ngClass"]],template:function(t,n){if(1&t){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"section",1,0),e.\u0275\u0275listener("click",function(r){return e.\u0275\u0275restoreView(s),e.\u0275\u0275resetView(n.overlayClick(r))}),e.\u0275\u0275projection(2),e.\u0275\u0275elementEnd()}2&t&&e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(1,V,"danger"===n.theme,n.open))},dependencies:[d.NgClass],encapsulation:2}),o})(),D=(()=>{class o{constructor(t,n,s){this.modalService=t,this.document=n,this.renderer=s,this.size="md",this.theme="default",this.ariaLabel="default",this.open=!1,this.hasScrollingContent=null,this.overlaySelected=new e.EventEmitter,this.close=new e.EventEmitter,this.selectorPrimaryFocus="[modal-primary-focus]"}ngOnChanges({open:t,hasScrollingContent:n}){t&&(t.currentValue?(setTimeout(()=>this.focusInitialElement(),100),this.renderer.addClass(this.document.body,"cds--body--with-modal-open")):t.currentValue?this.trigger&&this.trigger.focus():this.renderer.removeClass(this.document.body,"cds--body--with-modal-open")),n&&this.updateScrollbar()}ngAfterViewInit(){this.focusInitialElement(),this.updateScrollbar()}handleKeyboardEvent(t){switch(t.key){case"Escape":t.stopImmediatePropagation(),this.open=!1,this.close.emit(),this.modalService.destroy();break;case"Tab":(0,v.cycleTabs)(t,this.modal.nativeElement)}}get shouldShowScrollbar(){const t=this.modal?this.modal.nativeElement.querySelector(".cds--modal-content"):null;if(t){const n=Math.ceil(t.getBoundingClientRect().height);return t.scrollHeight>n}return!1}ngOnDestroy(){this.renderer.removeClass(this.document.body,"cds--body--with-modal-open")}focusInitialElement(){const t=this.modal.nativeElement.querySelector(this.selectorPrimaryFocus);t&&t.focus?setTimeout(()=>t.focus()):(0,v.getFocusElementList)(this.modal.nativeElement).length>0?setTimeout(()=>(0,v.getFocusElementList)(this.modal.nativeElement)[0].focus()):setTimeout(()=>this.modal.nativeElement.focus())}updateScrollbar(){const t=this.modal?this.modal.nativeElement.querySelector(".cds--modal-content"):null;t&&((null!==this.hasScrollingContent?this.hasScrollingContent:this.shouldShowScrollbar)?this.renderer.addClass(t,"cds--modal-scroll-content"):this.renderer.removeClass(t,"cds--modal-scroll-content"))}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(m),e.\u0275\u0275directiveInject(d.DOCUMENT),e.\u0275\u0275directiveInject(e.Renderer2))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["cds-modal"],["ibm-modal"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(k,7),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.modal=s.first)}},hostBindings:function(t,n){1&t&&e.\u0275\u0275listener("keydown",function(i){return n.handleKeyboardEvent(i)})},inputs:{size:"size",theme:"theme",ariaLabel:"ariaLabel",open:"open",trigger:"trigger",hasScrollingContent:"hasScrollingContent"},outputs:{overlaySelected:"overlaySelected",close:"close"},features:[e.\u0275\u0275NgOnChangesFeature],ngContentSelectors:u,decls:4,vars:9,consts:[["modal",""],[3,"overlaySelect","theme","open"],["role","dialog","aria-modal","true",1,"cds--modal-container",2,"z-index","1",3,"ngClass"]],template:function(t,n){if(1&t){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"cds-overlay",1),e.\u0275\u0275listener("overlaySelect",function(){return e.\u0275\u0275restoreView(s),e.\u0275\u0275resetView(n.overlaySelected.emit())}),e.\u0275\u0275elementStart(1,"div",2,0),e.\u0275\u0275projection(3),e.\u0275\u0275elementEnd()()}2&t&&(e.\u0275\u0275property("theme",n.theme)("open",n.open),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(4,z,"xs"===n.size,"sm"===n.size,"md"===n.size,"lg"===n.size)),e.\u0275\u0275attribute("aria-label",n.ariaLabel))},dependencies:[d.NgClass,E],encapsulation:2}),o})(),w=(()=>{class o{constructor(t){this.i18n=t,this.theme="default",this.closeLabel=this.i18n.get().MODAL.CLOSE,this.showCloseButton=!0,this.closeSelect=new e.EventEmitter,this.buttonNgClass={"cds--modal-close":!0},this.buttonAttributes={"aria-label":this.i18n.get().MODAL.CLOSE}}onClose(){this.closeSelect.emit()}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(C.I18n))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["cds-modal-header"],["ibm-modal-header"]],inputs:{theme:"theme",closeLabel:"closeLabel",showCloseButton:"showCloseButton"},outputs:{closeSelect:"closeSelect"},ngContentSelectors:u,decls:4,vars:4,consts:[[1,"cds--modal-close-button"],["type","button","align","left",3,"buttonNgClass","buttonAttributes","description","click",4,"ngIf"],["type","button","align","left",3,"click","buttonNgClass","buttonAttributes","description"],["cdsIcon","close","size","20",1,"cds--modal-close__icon"]],template:function(t,n){1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"header"),e.\u0275\u0275projection(1),e.\u0275\u0275elementStart(2,"div",0),e.\u0275\u0275template(3,x,2,3,"cds-icon-button",1),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275classMapInterpolate1("cds--modal-header ",n.theme,""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.showCloseButton))},dependencies:[d.NgIf,g.IconButton,b.IconDirective],encapsulation:2}),o})(),H=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["cds-modal-footer"],["ibm-modal-footer"]],ngContentSelectors:u,decls:2,vars:0,consts:[[1,"cds--modal-footer"]],template:function(t,n){1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"footer",0),e.\u0275\u0275projection(1),e.\u0275\u0275elementEnd())},encapsulation:2}),o})(),I=(()=>{class o{constructor(){this.modalContentClass=!0,this.hasForm=!1}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=e.\u0275\u0275defineDirective({type:o,selectors:[["","cdsModalContent",""],["","ibmModalContent",""]],hostVars:4,hostBindings:function(t,n){2&t&&e.\u0275\u0275classProp("cds--modal-content",n.modalContentClass)("cds--modal-content--with-form",n.hasForm)},inputs:{hasForm:"hasForm"}}),o})(),L=(()=>{class o{constructor(){this.modalHeaderHeadingClass=!0}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=e.\u0275\u0275defineDirective({type:o,selectors:[["","cdsModalHeaderHeading",""],["","ibmModalHeaderHeading",""]],hostVars:2,hostBindings:function(t,n){2&t&&e.\u0275\u0275classProp("cds--modal-header__heading",n.modalHeaderHeadingClass)}}),o})(),O=(()=>{class o{constructor(){this.modalHeaderLabelClass=!0}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=e.\u0275\u0275defineDirective({type:o,selectors:[["","cdsModalHeaderLabel",""],["","ibmModalHeaderLabel",""]],hostVars:2,hostBindings:function(t,n){2&t&&e.\u0275\u0275classProp("cds--modal-header__label",n.modalHeaderLabelClass)}}),o})(),T=(()=>{class o extends S{constructor(t="default",n,s,i,r,f=null,c=[],W,$=!0){super(),this.type=t,this.label=n,this.title=s,this.content=i,this.size=r,this.hasScrollingContent=f,this.buttons=c,this.onClose=W,this.showCloseButton=$;for(let h=0;h<this.buttons.length;h++){const p=this.buttons[h];p.id||(p.id=`alert-modal-button-${h}`),p.type||(p.type="secondary")}}ngAfterViewInit(){if(!this.modalContent)return!1;const t=this.modalContent.nativeElement;t.tabIndex=t.scrollHeight>t.clientHeight?0:-1}buttonClicked(t){const n=this.buttons[t];n.click&&n.click(),this.closeModal()}dismissModal(t){this.onClose&&!1===this.onClose(t)||this.closeModal()}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject("type",8),e.\u0275\u0275directiveInject("label",8),e.\u0275\u0275directiveInject("title",8),e.\u0275\u0275directiveInject("content",8),e.\u0275\u0275directiveInject("size",8),e.\u0275\u0275directiveInject("hasScrollingContent",8),e.\u0275\u0275directiveInject("buttons",8),e.\u0275\u0275directiveInject("close",8),e.\u0275\u0275directiveInject("showCloseButton",8))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["cds-alert-modal"],["ibm-alert-modal"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(R,7),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.modalContent=s.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:10,consts:[["modalContent",""],[3,"overlaySelected","size","theme","ariaLabel","hasScrollingContent","open"],[3,"closeSelect","showCloseButton"],["cdsModalHeaderLabel","",1,"cds--type-delta"],["cdsModalHeaderHeading","",1,"cds--type-beta"],["cdsModalContent",""],[3,"innerHTML"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","cdsButton","id"]],template:function(t,n){if(1&t){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"cds-modal",1),e.\u0275\u0275listener("overlaySelected",function(){return e.\u0275\u0275restoreView(s),e.\u0275\u0275resetView(n.dismissModal("overlay"))}),e.\u0275\u0275elementStart(1,"cds-modal-header",2),e.\u0275\u0275listener("closeSelect",function(){return e.\u0275\u0275restoreView(s),e.\u0275\u0275resetView(n.dismissModal("close"))}),e.\u0275\u0275elementStart(2,"p",3),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",4),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",5,0),e.\u0275\u0275element(8,"p",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,Q,2,1,"cds-modal-footer",7),e.\u0275\u0275elementEnd()}2&t&&(e.\u0275\u0275property("size",n.size)("theme",n.type)("ariaLabel",n.title)("hasScrollingContent",n.hasScrollingContent)("open",n.open),e.\u0275\u0275advance(),e.\u0275\u0275property("showCloseButton",n.showCloseButton),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.label),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.title),e.\u0275\u0275advance(3),e.\u0275\u0275property("innerHTML",n.content,e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.buttons.length>0))},dependencies:[d.NgForOf,d.NgIf,g.Button,D,w,H,I,L,O],encapsulation:2}),o})();var F=function(o){return o.default="default",o.danger="danger",o}(F||{}),B=function(o){return o.primary="primary",o.secondary="secondary",o.tertiary="tertiary",o.ghost="ghost",o.danger="danger",o.danger_primary="danger--primary",o}(B||{});let j=(()=>{class o extends m{constructor(t){super(t),this.placeholderService=t}show(t){return this.create({component:T,inputs:{type:t.type,label:t.label,title:t.title,content:t.content,hasScrollingContent:void 0!==t.hasScrollingContent?t.hasScrollingContent:null,size:t.size,buttons:t.buttons||[],close:t.close||(()=>{}),showCloseButton:t.showCloseButton}})}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275inject(_.PlaceholderService))},o.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})(),K=(()=>{class o{constructor(){this.modalContentTextClass=!0}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=e.\u0275\u0275defineDirective({type:o,selectors:[["","cdsModalContentText",""],["","ibmModalContentText",""]],hostVars:2,hostBindings:function(t,n){2&t&&e.\u0275\u0275classProp("cds--modal-content__text",n.modalContentTextClass)}}),o})(),U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({providers:[m,j],imports:[d.CommonModule,g.ButtonModule,C.I18nModule,_.PlaceholderModule,P.ExperimentalModule,b.IconModule]}),o})()}}]);