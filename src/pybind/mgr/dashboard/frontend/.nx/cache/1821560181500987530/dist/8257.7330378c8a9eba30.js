(self.webpackChunkceph_dashboard=self.webpackChunkceph_dashboard||[]).push([[8257],{68257:($,_,a)=>{a.r(_),a.d(_,{CodeSnippet:()=>z,CodeSnippetModule:()=>K,SnippetType:()=>l});var e=a(87536),d=a(64514),m=a(65530),u=a(94274),r=a(91974),f=a(98920);const h=["code"],g=["codeContent"],C=["codeContainer"],x=["*"],b=n=>({"cds--snippet--light":n}),y=(n,s,t,i,o,p,c)=>({"cds--snippet--light":n,"cds--snippet--inline":s,"cds--btn--icon-only":t,"cds--copy-btn":i,"cds--copy-btn--animating":o,"cds--copy-btn--fade-in":p,"cds--copy-btn--fade-out":c,"cds--snippet cds--copy":!0}),S=n=>({"aria-label":n,"aria-live":"polite",tabindex:"0"});function w(n,s){1&n&&e.\u0275\u0275elementContainer(0)}function E(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,w,1,0,"ng-container",9),e.\u0275\u0275elementContainerEnd()),2&n){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(4);e.\u0275\u0275advance(),e.\u0275\u0275property("ngTemplateOutlet",t)}}function v(n,s){1&n&&e.\u0275\u0275elementContainer(0)}function T(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"span",10)(1,"code",null,4),e.\u0275\u0275template(3,v,1,0,"ng-container",9),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(2),i=e.\u0275\u0275reference(6);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,b,"light"===t.theme)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",i)}}function O(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,E,2,1,"ng-container",8)(2,T,4,4,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!i.hideCopyButton)("ngIfElse",t)}}function I(n,s){1&n&&e.\u0275\u0275element(0,"span")}function R(n,s){1&n&&e.\u0275\u0275element(0,"span")(1,"span")(2,"span")}function k(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,I,1,0,"span",8)(2,R,3,0,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","single"===i.display)("ngIfElse",t)}}function M(n,s){1&n&&e.\u0275\u0275elementContainer(0)}function N(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pre",17,7),e.\u0275\u0275listener("scroll",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView("multi"===o.display?o.handleScroll():null)}),e.\u0275\u0275elementStart(2,"code",null,4),e.\u0275\u0275template(4,M,1,0,"ng-container",9),e.\u0275\u0275elementEnd()()}if(2&n){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(6);e.\u0275\u0275advance(4),e.\u0275\u0275property("ngTemplateOutlet",t)}}function D(n,s){1&n&&e.\u0275\u0275element(0,"div",18)}function B(n,s){1&n&&e.\u0275\u0275element(0,"div",19)}function P(n,s){1&n&&e.\u0275\u0275elementContainer(0)}function V(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,P,1,0,"ng-container",9),e.\u0275\u0275elementContainerEnd()),2&n){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(4);e.\u0275\u0275advance(),e.\u0275\u0275property("ngTemplateOutlet",t)}}function H(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.toggleSnippetExpansion())}),e.\u0275\u0275elementStart(1,"span",21),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(3,"svg",22),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.expanded?t.translations.SHOW_LESS:t.translations.SHOW_MORE),e.\u0275\u0275advance(),e.\u0275\u0275attribute("aria-label",t.translations.SHOW_MORE_ICON)}}function L(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11,5),e.\u0275\u0275listener("scroll",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView("single"===o.display?o.handleScroll():null)}),e.\u0275\u0275template(2,k,4,2,"ng-container",12)(3,N,5,1,"pre",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,D,1,0,"div",14)(5,B,1,0,"div",15)(6,V,2,1,"ng-container",12)(7,H,4,2,"button",16)}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",t.styles),e.\u0275\u0275attribute("aria-label",t.translations.CODE_SNIPPET_TEXT)("tabindex","single"!==t.display||t.disabled?null:"0")("role","single"===t.display?"textarea":null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.skeleton),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!t.skeleton),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.hasLeft),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.hasRight),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!t.hideCopyButton),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.isExpandable)}}function F(n,s){1&n&&e.\u0275\u0275elementContainer(0)}function W(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"code",null,4),e.\u0275\u0275template(3,F,1,0,"ng-container",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){e.\u0275\u0275nextContext(3);const t=e.\u0275\u0275reference(6);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t)}}function A(n,s){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(1,"svg",25),e.\u0275\u0275elementContainerEnd())}function Q(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"cds-icon-button",24),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(t);const p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.onCopyButtonClicked(o))}),e.\u0275\u0275template(1,W,4,1,"ng-container",12)(2,A,2,0,"ng-container",12),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("description",t.showFeedback?t.feedbackText:t.copyButtonDescription)("align",t.align)("dropShadow",t.dropShadow)("caret",t.caret)("highContrast",t.highContrast)("isOpen",t.isOpen)("enterDelayMs",t.enterDelayMs)("leaveDelayMs",t.leaveDelayMs)("buttonNgClass",e.\u0275\u0275pureFunction7(12,y,"light"===t.theme,"inline"===t.display,"inline"!==t.display,"inline"!==t.display,t.animating,t.showFeedback,!t.showFeedback&&t.animating))("buttonAttributes",e.\u0275\u0275pureFunction1(20,S,t.translations.COPY_CODE)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","inline"===t.display),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","inline"!==t.display)}}function U(n,s){if(1&n&&e.\u0275\u0275template(0,Q,3,22,"cds-icon-button",23),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",!t.skeleton)}}function j(n,s){1&n&&e.\u0275\u0275projection(0)}var l=function(n){return n.single="single",n.multi="multi",n.inline="inline",n}(l||{});let z=(()=>{class n extends d.BaseIconButton{constructor(t,i){super(),this.i18n=t,this.eventService=i,this.rowHeightInPixel=16,this.display=l.single,this.translations=this.i18n.get().CODE_SNIPPET,this.hideCopyButton=!1,this.disabled=!1,this.maxCollapsedNumberOfRows=15,this.minCollapsedNumberOfRows=3,this.maxExpandedNumberOfRows=0,this.minExpandedNumberOfRows=16,this.wrapText=!1,this.theme="dark",this.feedbackText=this.translations.COPIED,this.feedbackTimeout=2e3,this.expanded=!1,this.skeleton=!1,this.styles={},this.showFeedback=!1,this.animating=!1,this.hasExpandButton=null,this.isExpandable=!1,this.hasRightOverflow=!1,this.hasRight=!1,this.hasLeft=!1,this.dropShadow=!1}get snippetClass(){return this.display!==l.inline}get snippetSingleClass(){return this.display===l.single}get snippetMultiClass(){return this.display===l.multi}get snippetDisabledClass(){return"inline"!==this.display&&this.disabled}get snippetInlineLightClass(){return"light"===this.theme}handleScroll(){if(this.skeleton)return;let t;switch(this.display){case"multi":t=this.codeContent.nativeElement;break;case"single":t=this.codeContainer.nativeElement;break;default:return}if(t){const{scrollWidth:i,clientWidth:o,scrollLeft:p}=t,c=i>o;this.hasLeft=c&&!!p,this.hasRight=c&&p+o!==i}}toggleSnippetExpansion(){this.expanded=!this.expanded,this.calculateContainerHeight()}onCopyButtonClicked(){this.disabled||window.navigator.clipboard.writeText(this.code.nativeElement.innerText||this.code.nativeElement.textContent).then(()=>{this.showFeedback=!0,this.animating=!0,setTimeout(()=>{this.showFeedback=!1,this.animating=!1},this.feedbackTimeout)})}ngOnInit(){this.calculateContainerHeight()}ngAfterViewInit(){this.canExpand(),this.handleScroll(),window&&this.eventService.on(window,"resize",()=>{this.canExpand(),this.handleScroll()})}calculateContainerHeight(){"multi"===this.display&&!this.skeleton&&(this.styles={},this.expanded?(this.maxExpandedNumberOfRows>0&&(this.styles["max-height"]=this.maxExpandedNumberOfRows*this.rowHeightInPixel+"px"),this.minExpandedNumberOfRows>0&&(this.styles["min-height"]=this.minExpandedNumberOfRows*this.rowHeightInPixel+"px")):(this.maxCollapsedNumberOfRows>0&&(this.styles["max-height"]=this.maxCollapsedNumberOfRows*this.rowHeightInPixel+"px"),this.minCollapsedNumberOfRows>0&&(this.styles["min-height"]=this.minCollapsedNumberOfRows*this.rowHeightInPixel+"px")))}canExpand(){if("multi"===this.display&&!this.skeleton){const t=this.codeContent.nativeElement.getBoundingClientRect().height;this.isExpandable=this.maxCollapsedNumberOfRows>0&&(this.maxExpandedNumberOfRows<=0||this.maxExpandedNumberOfRows>this.maxCollapsedNumberOfRows)&&t>this.maxCollapsedNumberOfRows*this.rowHeightInPixel,this.expanded&&this.minExpandedNumberOfRows>0&&t<=this.minExpandedNumberOfRows*this.rowHeightInPixel&&(this.isExpandable=!1)}}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(m.I18n),e.\u0275\u0275directiveInject(u.EventService))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["cds-code-snippet"],["ibm-code-snippet"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(h,5),e.\u0275\u0275viewQuery(g,5),e.\u0275\u0275viewQuery(C,5)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.code=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.codeContent=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.codeContainer=o.first)}},hostVars:16,hostBindings:function(t,i){2&t&&e.\u0275\u0275classProp("cds--snippet",i.snippetClass)("cds--snippet--single",i.snippetSingleClass)("cds--snippet--multi",i.snippetMultiClass)("cds--snippet--disabled",i.snippetDisabledClass)("cds--snippet--light",i.snippetInlineLightClass)("cds--snippet--wraptext",i.wrapText)("cds--snippet--expand",i.expanded)("cds--skeleton",i.skeleton)},inputs:{display:"display",translations:"translations",copyButtonDescription:"copyButtonDescription",hideCopyButton:"hideCopyButton",disabled:"disabled",maxCollapsedNumberOfRows:"maxCollapsedNumberOfRows",minCollapsedNumberOfRows:"minCollapsedNumberOfRows",maxExpandedNumberOfRows:"maxExpandedNumberOfRows",minExpandedNumberOfRows:"minExpandedNumberOfRows",wrapText:"wrapText",theme:"theme",feedbackText:"feedbackText",feedbackTimeout:"feedbackTimeout",expanded:"expanded",skeleton:"skeleton"},features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:x,decls:7,vars:2,consts:[["notInline",""],["buttonTemplate",""],["codeTemplate",""],["noBtnInline",""],["code",""],["codeContainer",""],["multiSkeleton",""],["codeContent",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"cds--snippet","cds--snippet--inline","cds--snippet--no-copy",3,"ngClass"],[1,"cds--snippet-container",3,"scroll","ngStyle"],[4,"ngIf"],[3,"scroll",4,"ngIf"],["class","cds--snippet__overflow-indicator--left",4,"ngIf"],["class","cds--snippet__overflow-indicator--right",4,"ngIf"],["class","cds--btn cds--btn--ghost cds--btn--sm cds--snippet-btn--expand","type","button",3,"click",4,"ngIf"],[3,"scroll"],[1,"cds--snippet__overflow-indicator--left"],[1,"cds--snippet__overflow-indicator--right"],["type","button",1,"cds--btn","cds--btn--ghost","cds--btn--sm","cds--snippet-btn--expand",3,"click"],[1,"cds--snippet-btn--text"],["cdsIcon","chevron--down","size","16",1,"cds--icon-chevron--down"],["type","button","kind","primary","size","md",3,"description","align","dropShadow","caret","highContrast","isOpen","enterDelayMs","leaveDelayMs","buttonNgClass","buttonAttributes","click",4,"ngIf"],["type","button","kind","primary","size","md",3,"click","description","align","dropShadow","caret","highContrast","isOpen","enterDelayMs","leaveDelayMs","buttonNgClass","buttonAttributes"],["cdsIcon","copy","size","16",1,"cds--snippet__icon"]],template:function(t,i){if(1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,O,4,2,"ng-container",8)(1,L,8,10,"ng-template",null,0,e.\u0275\u0275templateRefExtractor)(3,U,1,1,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)(5,j,1,0,"ng-template",null,2,e.\u0275\u0275templateRefExtractor)),2&t){const o=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngIf","inline"===i.display)("ngIfElse",o)}},dependencies:[r.NgClass,r.NgIf,r.NgTemplateOutlet,r.NgStyle,d.IconButton,f.IconDirective],encapsulation:2}),n})(),K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[r.CommonModule,d.ButtonModule,m.I18nModule,u.UtilsModule,f.IconModule]}),n})()}}]);